<!--
 * @Author: æ¸…é£
 * @Date: 2020-12-15 11:41:50
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ç«¯ç®—æ³•ç³»ç»Ÿç»ƒä¹ : é“¾è¡¨ç¯‡å®Œç»“</title>
</head>

<body>
    <a href="https://mp.weixin.qq.com/s/aMZPridvWdu8ouV-YHKHjA" target="_blank" rel="noopener noreferrer">å‚è€ƒé“¾æ¥</a>
    <script>

        /**
            é“¾è¡¨ä¸»é¢˜åˆ†ä¸ºä»¥ä¸‹ï¼š

                   |â€”â€”â€”â€”  åè½¬é“¾è¡¨ç³»åˆ—    
                   |
            é“¾è¡¨ç¯‡ <|â€”â€”â€”â€”  ç¯å½¢é“¾è¡¨ç³»åˆ—
                   |
                   |â€”â€”â€”â€”  åˆå¹¶é“¾è¡¨ç³»åˆ—
                   |
                   |â€”â€”â€”â€”  æ±‚é“¾è¡¨ä¸­é—´èŠ‚ç‚¹
        **/



        /**
         * <-- # åè½¬é“¾è¡¨ ----------->

                åè½¬é“¾è¡¨è¿™é‡Œä¸€å…±æœ‰ä¸‰ä¸ªé¢˜ç›®ä¾›å¤§å®¶è®­ç»ƒã€‚åˆ†åˆ«æ˜¯åŸåœ°å•é“¾è¡¨çš„åè½¬ã€ä¸¤ä¸ªä¸€ç»„åè½¬é“¾è¡¨å’ŒKä¸ªä¸€ç»„åè½¬é“¾è¡¨ï¼Œéš¾åº¦ç”±é˜¶æ¢¯å¼ä¸Šå‡ã€‚
                è€Œåœ¨é¢è¯•å½“ä¸­å‡¡æ˜¯é‡åˆ°é“¾è¡¨ï¼Œåè½¬ç±»çš„é¢˜ç›®å‡ºç°çš„é¢‘ç‡ä¹Ÿæ˜¯æ•°ä¸€æ•°äºŒçš„ï¼Œå› æ­¤æŠŠå®ƒå½“åšé“¾è¡¨å¼€ç¯‡çš„è®­ç»ƒç±»å‹ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¼•èµ·è¶³å¤Ÿçš„é‡è§†
         * 
         * 
        */
       // No.1 ç®€å•çš„åè½¬é“¾è¡¨
    //    åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚
    //     ç¤ºä¾‹:
    //     è¾“å…¥: 1->2->3->4->5->NULL
    //     è¾“å‡º: 5->4->3->2->1->NULL

    
    /**
     (1) å¾ªç¯è§£å†³æ–¹æ¡ˆ
        è¿™é“é¢˜æ˜¯é“¾è¡¨ä¸­çš„ç»å…¸é¢˜ç›®ï¼Œå……åˆ†ä½“ç°é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„æ“ä½œæ€è·¯ç®€å•, ä½†æ˜¯å®ç°ä¸Šå¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•çš„ç‰¹ç‚¹ã€‚

        é‚£åœ¨å®ç°ä¸Šåº”è¯¥æ³¨æ„ä¸€äº›ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ

        ä¿å­˜åç»­èŠ‚ç‚¹ã€‚ä½œä¸ºæ–°æ‰‹æ¥è¯´ï¼Œå¾ˆå®¹æ˜“å°†å½“å‰èŠ‚ç‚¹çš„ nextæŒ‡é’ˆç›´æ¥æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†å…¶å®å½“å‰èŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆä¹Ÿå°±ä¸¢å¤±äº†ã€‚å› æ­¤ï¼Œéœ€è¦åœ¨éå†çš„è¿‡ç¨‹å½“ä¸­ï¼Œå…ˆå°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜ï¼Œç„¶åå†æ“ä½œnextæŒ‡å‘ã€‚
    */


    // é“¾è¡¨ç»“æ„å£°å®šä¹‰å¦‚ä¸‹:
        
        function ListNode (val) {
            this.val = val;
            this.next = null
        }

    // å®ç°å¦‚ä¸‹ï¼š
        
        /**
        * @param {ListNode} head
        * @return {ListNode}
        */
        let reverseList = (head) => {
            if(!head) 
                return null;

            let pre = null, cur = head;

            while(cur) {
                // å…³é”®ï¼šä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼
                let next = cur.next;
                cur.next = pre;
                pre = cur;
                cur = next;
            }
            return pre;
        }

    /*
        ç”±äºé€»è¾‘æ¯”è¾ƒç®€å•ï¼Œä»£ç ç›´æ¥ä¸€æ°”å‘µæˆã€‚ä¸è¿‡ä»…ä»…å†™å®Œè¿˜ä¸å¤Ÿï¼Œå¯¹äºé“¾è¡¨é—®é¢˜ï¼Œè¾¹ç•Œæ£€æŸ¥çš„ä¹ æƒ¯èƒ½å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥ä¿è¯ä»£ç çš„è´¨é‡ã€‚å…·ä½“æ¥è¯´:

        å½“ head èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬å·²ç»å¤„ç†ï¼Œé€šè¿‡ âœ…
        å½“é“¾è¡¨åªåŒ…å«ä¸€ä¸ªèŠ‚ç‚¹æ—¶, æ­¤æ—¶æˆ‘ä»¬å¸Œæœ›ç›´æ¥è¿”å›è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¯¹ä¸Šè¿°ä»£ç è€Œè¨€ï¼Œè¿›å…¥å¾ªç¯å pre è¢«èµ‹å€¼ä¸ºcurï¼Œä¹Ÿå°±æ˜¯headï¼Œæ²¡æ¯›ç—…ï¼Œé€šè¿‡ âœ…
        è¿è¡Œåœ¨ LeetCode, æˆåŠŸ AC âœŒ

        ä½†ä½œä¸ºç³»ç»Ÿæ€§çš„è®­ç»ƒè€Œè¨€ï¼Œå•å•è®©ç¨‹åºé€šè¿‡æœªå…å¤ªè‰ç‡äº†ï¼Œæˆ‘ä»¬åç»­ä¼šå°½å¯èƒ½åœ°ç”¨ä¸åŒçš„æ–¹å¼å»è§£å†³ç›¸åŒçš„é—®é¢˜ï¼Œè¾¾åˆ°èä¼šè´¯é€šçš„æ•ˆæœï¼Œä¹Ÿæ˜¯å¯¹è‡ªå·±æ€è·¯çš„å¼€æ‹“ï¼Œæœ‰æ—¶å€™æˆ–è®¸èƒ½è¾¾åˆ°æ›´ä¼˜è§£ã€‚
    */


        
        // (2) é€’å½’è§£å†³æ–¹æ¡ˆ
        //         ç”±äºä¹‹å‰çš„æ€è·¯å·²ç»ä»‹ç»å¾—éå¸¸æ¸…æ¥šäº†ï¼Œå› æ­¤åœ¨è¿™æˆ‘ä»¬è´´ä¸Šä»£ç ï¼Œå¤§å®¶å¥½å¥½ä½“ä¼šï¼š


        let reverseList2 = (head) =>{
            let reverse = (pre, cur) => {
                if(!cur) return pre;
                // ä¿å­˜ next èŠ‚ç‚¹
                let next = cur.next;
                cur.next = pre;
                return reverse(cur, next);
            }
            return reverse(null, head);
        }





    /**
        No.2 åŒºé—´åè½¬

            åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚

            è¯´æ˜:1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚

            ç¤ºä¾‹:

            è¾“å…¥: 1->2->3->4->5->NULL, m = 2, n = 4
            è¾“å‡º: 1->4->3->2->5->NULL
            æ¥æº: LeetCode ç¬¬ 92 é¢˜

            æ€è·¯
            è¿™ä¸€é¢˜ç›¸æ¯”ä¸Šä¸€ä¸ªæ•´ä¸ªé“¾è¡¨åè½¬çš„é¢˜ï¼Œå…¶å®æ˜¯æ¢æ±¤ä¸æ¢è¯ã€‚æˆ‘ä»¬ä¾ç„¶æœ‰ä¸¤ç§ç±»å‹çš„è§£æ³•ï¼šå¾ªç¯è§£æ³•å’Œé€’å½’è§£æ³•ã€‚

            éœ€è¦æ³¨æ„çš„é—®é¢˜å°±æ˜¯å‰åèŠ‚ç‚¹çš„ä¿å­˜(æˆ–è€…è®°å½•)ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿçœ‹è¿™å¼ å›¾ä½ å°±æ˜ç™½äº†ã€‚

            å›¾ç‰‡        éœ€è¦åè½¬

            â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”^â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
            1      2      3       4       5
           è®°å½•                          è®°å½•
            
            å…³äºå‰èŠ‚ç‚¹å’ŒåèŠ‚ç‚¹çš„å®šä¹‰ï¼Œå¤§å®¶åœ¨å›¾ä¸Šåº”è¯¥èƒ½çœ‹çš„æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œåé¢ä¼šç»å¸¸ç”¨åˆ°ã€‚

            åè½¬æ“ä½œä¸Šä¸€é¢˜å·²ç»æ‹†è§£è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯åè½¬åçš„å·¥ä½œï¼Œé‚£ä¹ˆå¯¹äºæ•´ä¸ªåŒºé—´åè½¬åçš„å·¥ä½œï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç§»èŠ±æ¥æœ¨çš„è¿‡ç¨‹ï¼Œé¦–å…ˆå°†å‰èŠ‚ç‚¹çš„ next æŒ‡å‘åŒºé—´ç»ˆç‚¹ï¼Œç„¶åå°†åŒºé—´èµ·ç‚¹çš„ next æŒ‡å‘åèŠ‚ç‚¹ã€‚å› æ­¤è¿™ä¸€é¢˜ä¸­æœ‰å››ä¸ªéœ€è¦é‡è§†çš„èŠ‚ç‚¹: å‰èŠ‚ç‚¹ã€åèŠ‚ç‚¹ã€åŒºé—´èµ·ç‚¹å’ŒåŒºé—´ç»ˆç‚¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å®é™…çš„ç¼–ç æ“ä½œã€‚

        å¾ªç¯è§£æ³•
    */

        /**
        * @param {ListNode} head
        * @param {number} m
        * @param {number} n
        * @return {ListNode}
        */
        var reverseBetween = function(head, m, n) {
            let count = n - m;
            let p = dummyHead = new ListNode();
            let pre, cur, start, tail;
            p.next = head;
            for(let i = 0; i < m - 1; i ++) {
                p = p.next;
            }
            // ä¿å­˜å‰èŠ‚ç‚¹
            front = p;
            // åŒæ—¶ä¿å­˜åŒºé—´é¦–èŠ‚ç‚¹
            pre = tail = p.next;
            cur = pre.next;
            // åŒºé—´åè½¬
            for(let i = 0; i < count; i++) {
                let next = cur.next;
                cur.next = pre;
                pre = cur;
                cur = next;
            }
            // å‰èŠ‚ç‚¹çš„ next æŒ‡å‘åŒºé—´æœ«å°¾
            front.next = pre;
            // åŒºé—´é¦–èŠ‚ç‚¹çš„ next æŒ‡å‘åèŠ‚ç‚¹(å¾ªç¯å®Œåçš„curå°±æ˜¯åŒºé—´åé¢ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³åèŠ‚ç‚¹)
            tail.next = cur;
            return dummyHead.next;
        };
        

        /**
            é€’å½’è§£æ³•
                å¯¹äºé€’å½’è§£æ³•ï¼Œå”¯ä¸€çš„ä¸åŒå°±åœ¨äºå¯¹äºåŒºé—´çš„å¤„ç†ï¼Œé‡‡ç”¨é€’å½’ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥è¶ç€å¤ä¹ ä¸€ä¸‹é€’å½’åè½¬çš„å®ç°ã€‚

        */

        var reverseBetween = function(head, m, n) {
            // é€’å½’åè½¬å‡½æ•°
            let reverse = (pre, cur) => {
                if(!cur) return pre;
                // ä¿å­˜ next èŠ‚ç‚¹
                let next = cur.next;
                cur.next = pre;
                return reverse(cur, next);
            }
            let p = dummyHead = new ListNode();
            dummyHead.next = head;
            let start, end; //åŒºé—´é¦–å°¾èŠ‚ç‚¹
            let front, tail; //å‰èŠ‚ç‚¹å’ŒåèŠ‚ç‚¹
            for(let i = 0; i < m - 1; i++) {
                p = p.next;
            }
            front = p; //ä¿å­˜å‰èŠ‚ç‚¹
            start = front.next;
            for(let i = m - 1; i < n; i++) {
                p = p.next;
            }
            end = p;
            tail = end.next; //ä¿å­˜åèŠ‚ç‚¹
            end.next = null;
            // å¼€å§‹ç©¿é’ˆå¼•çº¿å•¦ï¼Œå‰èŠ‚ç‚¹æŒ‡å‘åŒºé—´é¦–ï¼ŒåŒºé—´é¦–æŒ‡å‘åèŠ‚ç‚¹
            front.next = reverse(null, start);
            start.next = tail;
            return dummyHead.next;
        }





    /*
        <---------- No.3 ä¸¤ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ ------------------------------------>


            ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚

            ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

            æ¥æº: LeetCode ç¬¬ 24 é¢˜
    
    */


        // ç¤ºä¾‹ï¼š
        // ç»™å®š 1->2->3->4, ä½ åº”è¯¥è¿”å› 2->1->4->3.

        // 1. å¾ªç¯è§£å†³ï¼šä»£ç å¦‚ä¸‹
        
        var swapPairs = function(head) {
          if(head == null || head.next == null) return head;
          let dummyHead = p = new ListNode();
          let node1, node2;
          dummyHead.next = head;
          while((node1 = p.next) && (node2 = p.next.next)) {
              node1.next = node2.next;
              node2.next = node1;
              p.next = node2;
              p = node1;
          }
          return dummyHead.next;
      };

      // 2. é€’å½’æ–¹å¼

      var swapPairs = function(head) {
          if(head == null || head.next == null) return head;
          let node1 = head, node2 = head.next;
          node1.next = swapPairs(node2.next);
          node2.next = node1;
          return node2;
      };
    
      // åˆ©ç”¨é€’å½’æ–¹å¼ä¹‹åï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰ä»£ç ç‰¹åˆ«ç®€æ´ï¼ŸğŸ˜ƒğŸ˜ƒğŸ˜ƒ , å¸Œæœ›ä½ èƒ½å¥½å¥½ä½“ä¼šä¸€ä¸‹é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œç›¸ä¿¡ç†è§£ä¹‹åå¯¹è‡ªå·±æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æå‡ã€‚






    // <-------------------------- No.4 Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ ----------------------------------------------------------->

    
    /* ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚

      k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚

      å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ k çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚

      ç¤ºä¾‹ :

      ç»™å®šè¿™ä¸ªé“¾è¡¨ï¼š1->2->3->4->5
      å½“ k = 2 æ—¶ï¼Œåº”å½“è¿”å›: 2->1->4->3->5
      å½“ k = 3 æ—¶ï¼Œåº”å½“è¿”å›: 3->2->1->4->5


      è¯´æ˜ :

      ä½ çš„ç®—æ³•åªèƒ½ä½¿ç”¨å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚
      ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚
      æ¥æº: LeetCode ç¬¬ 25 é¢˜

      æ€è·¯
      æ€è·¯ç±»ä¼¼No.3ä¸­çš„ä¸¤ä¸ªä¸€ç»„ç¿»è½¬ã€‚å”¯ä¸€çš„ä¸åŒåœ¨äºä¸¤ä¸ªä¸€ç»„çš„æƒ…å†µä¸‹æ¯ä¸€ç»„åªéœ€è¦åè½¬ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè€Œåœ¨ K ä¸ªä¸€ç»„çš„æƒ…å†µä¸‹å¯¹åº”çš„æ“ä½œæ˜¯å°† K ä¸ªå…ƒç´ çš„é“¾è¡¨è¿›è¡Œåè½¬ã€‚

      (1) é€’å½’è§£æ³•:

      è¿™ä¸€é¢˜æˆ‘è§‰å¾—é€’å½’çš„è§£æ³•æ›´å®¹æ˜“ç†è§£ï¼Œå› æ­¤ï¼Œå…ˆè´´ä¸Šé€’å½’æ–¹æ³•çš„ä»£ç ã€‚

      ä»¥ä¸‹ä»£ç çš„æ³¨é‡Šä¸­`é¦–èŠ‚ç‚¹`ã€`å°¾ç»“ç‚¹`ç­‰æ¦‚å¿µéƒ½æ˜¯é’ˆå¯¹åè½¬å‰çš„é“¾è¡¨è€Œè¨€çš„ã€‚
  */
      /**
      * @param {ListNode} head
      * @param {number} k
      * @return {ListNode}
      */
      var reverseKGroup = function(head, k) {
          let pre = null, cur = head;
          let p = head;
          // ä¸‹é¢çš„å¾ªç¯ç”¨æ¥æ£€æŸ¥åé¢çš„å…ƒç´ æ˜¯å¦èƒ½ç»„æˆä¸€ç»„
          for(let i = 0; i < k; i++) {
              if(p == null) return head;
              p = p.next;
          }
          for(let i = 0; i < k; i++){
              let next = cur.next;
              cur.next = pre;
              pre = cur;
              cur = next;
          }
          // preä¸ºæœ¬ç»„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œcurä¸ºä¸‹ä¸€ç»„çš„èµ·ç‚¹
          head.next = reverseKGroup(cur, k);
          return pre;
      };
     
      // (2) å¾ªç¯è§£æ³•  -----> é‡ç‚¹éƒ½æ”¾åœ¨æ³¨é‡Šé‡Œé¢äº†ã€‚

        var _reverseKGroup = function(head, k) {
          let count = 0;
          // çœ‹æ˜¯å¦èƒ½æ„æˆä¸€ç»„ï¼ŒåŒæ—¶ç»Ÿè®¡é“¾è¡¨å…ƒç´ ä¸ªæ•°
          for(let p = head; p != null; p = p.next) {
              if(p == null && i < k) return head;
              count++;
          }
          let loopCount = Math.floor(count / k);
          let p = dummyHead = new ListNode();
          dummyHead.next = head;
          // åˆ†æˆäº† loopCount ç»„ï¼Œå¯¹æ¯ä¸€ä¸ªç»„è¿›è¡Œåè½¬
          for(let i = 0; i < loopCount; i++) {
              let pre = null, cur = p.next;
              for(let j = 0; j < k; j++) {
                  let next = cur.next;
                  cur.next = pre;
                  pre = cur;
                  cur = next;
              }
              // å½“å‰ pre ä¸ºè¯¥ç»„çš„å°¾ç»“ç‚¹ï¼Œcur ä¸ºä¸‹ä¸€ç»„é¦–èŠ‚ç‚¹
              let start = p.next;// start æ˜¯è¯¥ç»„é¦–èŠ‚ç‚¹
              // å¼€å§‹ç©¿é’ˆå¼•çº¿ï¼æ€è·¯å’Œ2ä¸ªä¸€ç»„çš„æƒ…å†µä¸€æ¨¡ä¸€æ ·
              p.next = pre;
              start.next = cur;
              p = start;
          }
          return dummyHead.next;
      };









      // <------------- ç¯å½¢é“¾è¡¨ --------------------------------->

      
        // No.1 å¦‚ä½•æ£€æµ‹é“¾è¡¨å½¢æˆç¯ï¼Ÿ
        // ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦å½¢æˆç¯ã€‚

        // æ€è·¯
        // æ€è·¯ä¸€: å¾ªç¯ä¸€éï¼Œç”¨ Set æ•°æ®ç»“æ„ä¿å­˜èŠ‚ç‚¹ï¼Œåˆ©ç”¨èŠ‚ç‚¹çš„å†…å­˜åœ°å€æ¥è¿›è¡Œåˆ¤é‡ï¼Œå¦‚æœåŒæ ·çš„èŠ‚ç‚¹èµ°è¿‡ä¸¤æ¬¡ï¼Œåˆ™è¡¨æ˜å·²ç»å½¢æˆäº†ç¯ã€‚

        // æ€è·¯äºŒ: åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå¦‚æœä¸¤è€…ç›¸é‡ï¼Œåˆ™è¡¨æ˜å·²ç»å½¢æˆäº†ç¯ã€‚

        // å¯èƒ½ä½ ä¼šçº³é—·ï¼Œä¸ºä»€ä¹ˆæ€è·¯äºŒç”¨ä¸¤ä¸ªæŒ‡é’ˆåœ¨ç¯ä¸­ä¸€å®šä¼šç›¸é‡å‘¢ï¼Ÿ

        // å…¶å®å¾ˆç®€å•ï¼Œå¦‚æœæœ‰ç¯ï¼Œä¸¤è€…ä¸€å®šåŒæ—¶èµ°åˆ°ç¯ä¸­ï¼Œé‚£ä¹ˆåœ¨ç¯ä¸­ï¼Œé€‰æ…¢æŒ‡é’ˆä¸ºå‚è€ƒç³»ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡ç›¸å¯¹å‚è€ƒç³»å‘å‰èµ°ä¸€æ­¥ï¼Œç»ˆç©¶ä¼šç»•å›åŸç‚¹ï¼Œä¹Ÿå°±æ˜¯å›åˆ°æ…¢æŒ‡é’ˆçš„ä½ç½®ï¼Œä»è€Œè®©ä¸¤è€…ç›¸é‡ã€‚å¦‚æœæ²¡æœ‰ç¯ï¼Œåˆ™ä¸¤è€…çš„ç›¸å¯¹è·ç¦»è¶Šæ¥è¶Šè¿œï¼Œæ°¸è¿œä¸ä¼šç›¸é‡ã€‚

        // æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç¼–ç¨‹å®ç°ã€‚

        // æ–¹æ³•ä¸€: Set åˆ¤é‡
            /**
            * @param {ListNode} head
            * @return {boolean}
            */
            var hasCycle = (head) => {
                let set = new Set();
                let p = head;
                while(p) {
                    // åŒä¸€ä¸ªèŠ‚ç‚¹å†æ¬¡ç¢°åˆ°ï¼Œè¡¨ç¤ºæœ‰ç¯
                    if(set.has(p)) return true;
                    set.add(p);
                    p = p.next;
                }
                return false;
            }

          // æ–¹æ³•äºŒ: å¿«æ…¢æŒ‡é’ˆ
          var _hasCycle = function(head) {
              let dummyHead = new ListNode();
              dummyHead.next = head;
              let fast = slow = dummyHead;
              // é›¶ä¸ªç»“ç‚¹æˆ–è€…ä¸€ä¸ªç»“ç‚¹ï¼Œè‚¯å®šæ— ç¯
              if(fast.next == null || fast.next.next == null) 
                  return false;
              while(fast && fast.next) {
                  fast = fast.next.next;
                  slow = slow.next;
                  // ä¸¤è€…ç›¸é‡äº†
                  if(fast == slow) {
                      return true;
                  }
              } 
              return false;
          };


        
        // No.2 å¦‚ä½•æ‰¾åˆ°ç¯çš„èµ·ç‚¹
          
          // ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚

          // **è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

          // ç¼–ç¨‹å®ç°
          /**
          * @param {ListNode} head
          * @return {ListNode}
          */
          var detectCycle = function(head) {
              let dummyHead = new ListNode();
              dummyHead.next = head;
              let fast = slow = dummyHead;
              // é›¶ä¸ªç»“ç‚¹æˆ–è€…ä¸€ä¸ªç»“ç‚¹ï¼Œè‚¯å®šæ— ç¯
              if(fast.next == null || fast.next.next == null) 
                  return null;
              while(fast && fast.next) {
                  fast = fast.next.next;
                  slow = slow.next;
                  // ä¸¤è€…ç›¸é‡äº†
                  if(fast == slow) {
                    let p = dummyHead;
                    while(p != slow) {
                        p = p.next;
                        slow = slow.next;
                    }
                    return p;
                  }
              } 
              return null;
          };



      
        // <------------------ é“¾è¡¨åˆå¹¶ -------------------------------------->
        /*
          No.1 åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
          å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚

          ç¤ºä¾‹:

          è¾“å…¥ï¼š1->2->4, 1->3->4
          è¾“å‡ºï¼š1->1->2->3->4->4
          æ¥æº: LeetCodeç¬¬21é¢˜
        */

        // (1) é€’å½’è§£æ³•   ==>>  é€’å½’è§£æ³•æ›´å®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬å…ˆç”¨é€’å½’æ¥åšä¸€ä¸‹:

        /**
         * @param {ListNode} l1
         * @param {ListNode} l2
         * @return {ListNode}
         */
        var mergeTwoLists = function(l1, l2) {
            const merge = (l1, l2) => {
                if(l1 == null) return l2;
                if(l2 == null) return l1;
                if(l1.val > l2.val) {
                    l2.next = merge(l1, l2.next);
                    return l2;
                }else {
                    l1.next = merge(l1.next, l2);
                    return l1;
                }
            }
            return merge(l1, l2);
        };


        // (2)  å¾ªç¯è§£æ³•
        var mergeTwoLists = function(l1, l2) {
            if(l1 == null) return l2;
            if(l2 == null) return l1;
            let p = dummyHead = new ListNode();
            let p1 = l1, p2 = l2;
            while(p1 && p2) {
                if(p1.val > p2.val) {
                    p.next = p2;
                    p = p.next;
                    p2 = p2.next;
                }else {
                    p.next = p1;
                    p = p.next;
                    p1 = p1.next;
                }
            }
            // å¾ªç¯å®ŒæˆååŠ¡å¿…æ£€æŸ¥å‰©ä¸‹çš„éƒ¨åˆ†
            if(p1) p.next = p1;
            else p.next = p2;
            return dummyHead.next;
        };



      /**
       *    No.2 åˆå¹¶ K ä¸ªæœ‰åºé“¾è¡¨
            
              åˆå¹¶ k ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚

            ç¤ºä¾‹ï¼š  æ¥æº: LeetCodeç¬¬23é¢˜
            è¾“å…¥:
                [
                  1->4->5,
                  1->3->4,
                  2->6
                ]
              è¾“å‡º: 1->1->2->3->4->4->5->6
       */

          var mergeKLists = function (lists) {
            // ä¸Šé¢å·²ç»å®ç°
            var mergeTwoLists = function(l1, l2) {/*ä¸Šé¢å·²ç»å®ç°*/};
            const _mergeLists = (lists, start, end) => {
                if(end - start < 0) return null;
                if(end - start == 0)return lists[end];
                let mid = Math.floor(start + (end - start) / 2);
                return mergeTwoList(_mergeLists(lists, start, mid), _mergeLists(lists, mid + 1, end));
            }
            return _mergeLists(lists, 0, lists.length - 1);
          }


        /**
         * è‡ªä¸‹è€Œä¸Šå®ç°
              åœ¨è¿™é‡Œéœ€è¦æé†’å¤§å®¶çš„æ˜¯ï¼Œåœ¨è‡ªä¸‹è€Œä¸Šçš„å®ç°æ–¹å¼ä¸­ï¼Œæˆ‘ä¸ºæ¯ä¸€ä¸ªé“¾è¡¨ç»‘å®šäº†ä¸€ä¸ªè™šæ‹Ÿå¤´æŒ‡é’ˆ(dummyHead)ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ
              è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿é“¾è¡¨çš„åˆå¹¶ï¼Œæ¯”å¦‚ l1 å’Œ l2 åˆå¹¶ä¹‹åï¼Œåˆå¹¶åé“¾è¡¨çš„å¤´æŒ‡é’ˆå°±ç›´æ¥æ˜¯ l1 çš„ dummyHead.next å€¼ï¼Œç­‰äºè¯´ä¸¤ä¸ªé“¾è¡¨éƒ½åˆå¹¶åˆ°äº† l1 å½“ä¸­ï¼Œæ–¹ä¾¿äº†åç»­çš„åˆå¹¶æ“ä½œã€‚
         * **/
          

          var mergeKLists = function(lists) {
              var mergeTwoLists = function(l1, l2) {/*ä¸Šé¢å·²ç»å®ç°*/};
              // è¾¹ç•Œæƒ…å†µ
              if(!lists || !lists.length) return null;
              // è™šæ‹Ÿå¤´æŒ‡é’ˆé›†åˆ
              let dummyHeads = [];
              // åˆå§‹åŒ–è™šæ‹Ÿå¤´æŒ‡é’ˆ
              for(let i = 0; i < lists.length; i++) {
                  let node = new ListNode();
                  node.next = lists[i];
                  dummyHeads[i] = node;
              }
              // è‡ªåº•å‘ä¸Šè¿›è¡Œmerge
              for(let size = 1; size < lists.length; size += size){
                  for(let i = 0; i + size < lists.length;i += 2 * size) {
                      dummyHeads[i].next = mergeTwoLists(dummyHeads[i].next, dummyHeads[i + size].next);
                  }
              }
              return dummyHeads[0].next;
          };








      /*  
        å¤šä¸ªé“¾è¡¨çš„åˆå¹¶åˆ°è¿™é‡Œå°±å®ç°å®Œæˆäº†ï¼Œåœ¨è¿™é‡Œé¡ºä¾¿å‘Šè¯‰ä½ è¿™ç§å½’å¹¶çš„æ–¹å¼åŒæ—¶ä¹Ÿæ˜¯å¯¹é“¾è¡¨è¿›è¡Œå½’å¹¶æ’åºçš„æ ¸å¿ƒä»£ç ã€‚å¸Œæœ›ä½ èƒ½å¥½å¥½ä½“ä¼šè‡ªä¸Šè€Œä¸‹å’Œè‡ªä¸‹è€Œä¸Šä¸¤ç§ä¸åŒçš„å®ç°ç»†èŠ‚ï¼Œç›¸ä¿¡å¯¹ä½ çš„ç¼–ç¨‹å†…åŠŸæ˜¯ä¸€ä¸ªä¸é”™çš„æå‡ã€‚

        æ±‚é“¾è¡¨ä¸­é—´èŠ‚ç‚¹
        åˆ¤æ–­å›æ–‡é“¾è¡¨
        è¯·åˆ¤æ–­ä¸€ä¸ªå•é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚

        ç¤ºä¾‹1:

        è¾“å…¥: 1->2
        è¾“å‡º: false
        ç¤ºä¾‹2:

        è¾“å…¥: 1->2->2->1
        è¾“å‡º: true
        ä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ

        æ¥æº: LeetCodeç¬¬234é¢˜

        æ€è·¯åˆ†æ
        è¿™ä¸€é¢˜å¦‚æœä¸è€ƒè™‘æ€§èƒ½çš„é™åˆ¶ï¼Œå…¶å®æ˜¯éå¸¸ç®€å•çš„ã€‚ä½†è€ƒè™‘åˆ° O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦ï¼Œææ€•å°±å€¼å¾—åœä¸‹æ¥å¥½å¥½æƒ³æƒ³äº†ã€‚

        é¢˜ç›®çš„è¦æ±‚æ˜¯å•é“¾è¡¨ï¼Œæ²¡æœ‰åŠæ³•è®¿é—®å‰é¢çš„èŠ‚ç‚¹ï¼Œé‚£æˆ‘ä»¬åªå¾—å¦è¾Ÿè¹Šå¾„:

        æ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹ï¼Œç„¶åå°†ååŠéƒ¨åˆ†åè½¬ï¼Œå°±å¯ä»¥ä¾æ¬¡æ¯”è¾ƒå¾—å‡ºç»“è®ºäº†ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸€æ³¢ã€‚

        ä»£ç å®ç°
        å…¶å®å…³é”®éƒ¨åˆ†çš„ä»£ç å°±æ˜¯æ‰¾ä¸­ç‚¹äº†ã€‚å…ˆäº®å‰‘:
      */

        // let dummyHead = slow = fast = new ListNode();
        // dummyHead.next = head;
        // // æ³¨æ„æ³¨æ„ï¼Œæ¥æ‰¾ä¸­ç‚¹äº†
        // while(fast && fast.next) {
        //     slow = slow.next;
        //     fast = fast.next.next;
        // }


      // å®Œæ•´ä»£ç 
      /**
       * @param {ListNode} head
       * @return {boolean}
       */
      var isPalindrome = function(head) {
          let reverse = (pre, cur) => {
              if(!cur) return pre;
              let next = cur.next;
              cur.next = pre;
              return reverse(cur, next);
          }
          let dummyHead = slow = fast = new ListNode();
          dummyHead.next = head;
          // æ³¨æ„æ³¨æ„ï¼Œæ¥æ‰¾ä¸­ç‚¹äº†, é»„é‡‘æ¨¡æ¿
          while(fast && fast.next) {
              slow = slow.next;
              fast = fast.next.next;
          }
          let next = slow.next;
          slow.next = null;
          let newStart = reverse(null, next);
          for(let p = head, newP = newStart; newP != null; p = p.next, newP = newP.next) {
              if(p.val != newP.val) return false;
          }
          return true;
      };





    </script>
</body>
</html>