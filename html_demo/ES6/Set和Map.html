<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
    
    // Set

    /**
    
        Set.prototype.add(value)：添加某个值，返回 Set 结构本身。
        Set.prototype.delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。
        Set.prototype.has(value)：返回一个布尔值，表示该值是否为Set的成员。
        Set.prototype.clear()：清除所有成员，没有返回值。
    
    */


        var set = new Set();
        set.add(1)
        set.add('test')

        console.log([...set], set.size)

        var arr = [1,2,3,3,3,4,6,6,6,8,,8,8,9,9, null]
        // 使用 Set 去重结合 reduce 过滤空值
        var newArr = [...new Set(arr)].reduce((t, v) => !!v ? [...t, v]: t, []);

        console.log(newArr)




    // WeakSet  => WeakSet 结构与 Set 类似，也是不重复的值的集合。但是，它与 Set 有两个区别。 首先，WeakSet 的成员只能是对象，而不能是其他类型的值。

        var a = [[1,2], [3,4]]
        var ws = new WeakSet(a);

        
        
        ws.add(window)
        console.log(ws)






    // Map  , Map添加和获取使用：get()、set()


        var m = new Map();

        m.set('key', '测试 --- hello world')

        console.log(m, m.get('key'))


    // WeakMap  , WeakMap只接受对象作为键名（null除外），不接受其他类型的值作为键名。

    // WeakMap只有四个方法可用：get()、set()、has()、delete()。

        var wm = new WeakMap();
        var key = { foo: 1 }
        wm.set(key, 2);
        console.log(wm.get(key))

    </script>
</body>
</html>