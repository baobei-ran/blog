(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76b36d92"],{1735:function(t,e,r){"use strict";r.d(e,"k",(function(){return a})),r.d(e,"h",(function(){return i})),r.d(e,"j",(function(){return s})),r.d(e,"i",(function(){return o})),r.d(e,"g",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"b",(function(){return u})),r.d(e,"e",(function(){return f})),r.d(e,"f",(function(){return d})),r.d(e,"c",(function(){return m})),r.d(e,"l",(function(){return p})),r.d(e,"m",(function(){return h})),r.d(e,"a",(function(){return g}));var n=r("bdd0"),a=function(t){return Object(n["a"])("post","/articleClassIndex",t)},i=function(t){return Object(n["a"])("post","/articleClassAdd",t)},s=function(t){return Object(n["a"])("post","/articleClassEdit",t)},o=function(t){return Object(n["a"])("post","/articleClassDel",t)},c=function(t){return Object(n["a"])("post","/articleDetailIndex",t)},l=function(){return Object(n["a"])("get","/articleDetailAdd")},u=function(t){return Object(n["a"])("post","/articleDetailAdd",t)},f=function(t){return Object(n["a"])("get","/articleDetailEdit",t)},d=function(t){return Object(n["a"])("post","/articleDetailEdit",t)},m=function(t){return Object(n["a"])("post","/articleRecycle",t)},p=function(t){return Object(n["a"])("post","/articleRecycleIndex",t)},h=function(t){return Object(n["a"])("post","/articleRecycleRecover",t)},g=function(t){return Object(n["a"])("post","/articleRecycleDel",t)}},"3c9c":function(t,e,r){},4562:function(t,e,r){},6519:function(t,e,r){"use strict";var n=r("bfca"),a=r.n(n);a.a},"70a5":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wangeditor"},[r("div",{ref:"editorElem",class:{diagnose:t.is_ie10},staticStyle:{"text-align":"left",display:"inline-block"}})])},a=[],i=(r("9302"),r("e35a"),r("5e9f"),r("5572")),s={name:"wEditor",props:["catchData"],data:function(){return{editor:null,editorContent:"",hosExam_see:[],is_ie10:!1}},mounted:function(){var t=this,e=window.wangEditor;try{this.editor=new e(this.$refs.editorElem),this.editor.customConfig.onchange=function(e){if(t.editorContent=e,t.delHtmlTag(e)){var r=[];r.push(e),t.hosExam_see=r}else t.hosExam_see=[];t.catchData(t.editorContent)};var r=["fontName","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","undo","redo"];this.editor.customConfig.menus=r,this.editor.create()}catch(n){}},methods:{delHtmlTag:function(t){return!!t&&t.replace(/<[^>]+>/g,"").replace(/&nbsp;/gi,"")},setHtml:function(t,e){if(t)if(t=Object(i["d"])(t),1==e)if(this.hosExam_see.length){this.hosExam_see.push(t);var r=this.hosExam_see.join("<p></p><br/>");this.editor.txt.html(r+"<p></p>"),this.catchData(r)}else{this.hosExam_see.push(t);r=this.hosExam_see.join("");this.editor.txt.html(r+"<p></p>"),this.catchData(r)}else if(this.$IE10)this.hosExam_see.push(t),this.editor.txt.html(t),this.catchData(t);else{var n=t;this.hosExam_see.push(n),this.editor.txt.html(n+"<p></p>"),this.catchData(n)}}}},o=s,c=(r("6519"),r("e1cc"),r("9ca4")),l=Object(c["a"])(o,n,a,!1,null,"6884893e",null);e["a"]=l.exports},8775:function(t,e,r){},a041:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{staticClass:"title"},[t._t("title")],2),t._t("tag")],2)},a=[],i=(r("f343"),r("9ca4")),s={},o=Object(i["a"])(s,n,a,!1,null,"2a454133",null);e["a"]=o.exports},bfca:function(t,e,r){},cbf5:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"articleAddPage"},[r("title-common",[r("span",{attrs:{slot:"title"},slot:"title"},[t._v("添加文章")])]),r("panel-common",[r("div",{attrs:{slot:"info-content"},slot:"info-content"},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.formRules,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{clearable:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"作者"}},[r("el-input",{attrs:{clearable:""},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"所属分类",prop:"class_id","label-width":"100px"}},[r("el-select",{attrs:{placeholder:"全部"},model:{value:t.form.class_id,callback:function(e){t.$set(t.form,"class_id",e)},expression:"form.class_id"}},t._l(t.formlist,(function(t,e){return r("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"封面图片"}},[r("div",{staticClass:"upload-img"},[r("div",[r("ol",[t._l(t.hospitalPic3,(function(e,n){return r("li",{key:n+"_3"},[r("img",{attrs:{src:e.img,alt:""}}),r("p",[t._v("封面图片")]),r("span",{on:{click:function(r){return t.handleDelPic3(e.id)}}},[t._v("X")])])})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.hospitalPic3.length<1,expression:"hospitalPic3.length < 1"}]},[r("input",{attrs:{type:"file",id:"signature3",accept:"image/jpeg, image/jpg, image/png"},on:{change:t.changePic3}}),r("label",{staticClass:"label-k",attrs:{for:"signature3"}}),r("p",{staticClass:"click"},[t._v("点击上传")]),r("p",[t._v("封面图片")])])],2)])])])],1)],1),r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"文章内容",prop:"content"}},[r("h-editor",{attrs:{catchData:t.changeText}})],1)],1)],1),r("el-row",{attrs:{type:"flex",align:"center"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"排序号"}},[r("el-input",{attrs:{clearable:""},on:{input:function(e){return t.inputChange(e)}},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),r("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:8}},[r("span",{staticClass:"number"},[t._v("请填写数字，数字越大越靠前")])])],1)],1)],1)]),r("div",{staticClass:"btns Mg-T20"},[r("el-button",{attrs:{plain:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),r("el-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:t.saveArticleAdd}},[t._v("保存")])],1)],1)},a=[],i=(r("dbb3"),r("2eeb"),r("e35a"),r("5e9f"),r("6a61"),r("cf7f")),s=r("a041"),o=r("2a94"),c=r("1735"),l=r("70a5"),u=r("5572"),f={data:function(){return{formlist:[],form:{title:"",author:"",class_id:"",content:"",sort:""},formRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入文章内容",trigger:"blur"}],class_id:[{required:!0,message:"请选择所属分类",trigger:"change"}]},hospitalPic3:[],isLoading:!1}},components:{TitleCommon:s["a"],PanelCommon:o["a"],HEditor:l["a"]},created:function(){this.getArticleDefaultAdd()},methods:{getArticleDefaultAdd:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])();case 2:r=e.sent,n=r.data,0!==n.code?t.$message.error(n.msg):t.formlist=n.data;case 6:case"end":return e.stop()}}),e)})))()},saveArticleAdd:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.form.title){e.next=3;break}return t.$message.error("请编辑标题！"),e.abrupt("return");case 3:if(t.form.class_id){e.next=6;break}return t.$message.error("请选择所属分类！"),e.abrupt("return");case 6:if(t.form.content&&Object(u["g"])(t.form.content)){e.next=9;break}return t.$message.error("请编辑文章内容！"),e.abrupt("return");case 9:return t.isLoading=!0,r=new FormData,r.append("class_id",t.form.class_id),r.append("title",t.form.title),r.append("content",t.form.content),r.append("sort",t.form.sort),r.append("author",t.form.author),t.hospitalPic3.map((function(t){t.file&&r.append("file",t.file)})),e.next=20,Object(c["b"])(r);case 20:n=e.sent,a=n.data,0!==a.code?t.$message.error(a.msg):(t.$message.success("添加文章成功！"),t.$router.go(-1)),t.isLoading=!1;case 25:case"end":return e.stop()}}),e)})))()},handleDelPic3:function(t){this.hospitalPic3=this.hospitalPic3.filter((function(e){return e.id!==t}))},changePic3:function(t){var e=t||window.event,r=e.target.files[0];if(r){var n=new FileReader;n.vue=this,n.readAsDataURL(r),n.onload=function(){var t={};t.id=1e4*Math.random(),t.img=this.result,t.file=r,this.vue.hospitalPic3.push(t)},e.target.value=""}},inputChange:function(t){t=t.replace(/[^0-9]/g,""),this.form.sort=t},changeText:function(t){this.form.content=t}}},d=f,m=(r("d3b0"),r("9ca4")),p=Object(m["a"])(d,n,a,!1,null,"568e1f40",null);e["default"]=p.exports},d3b0:function(t,e,r){"use strict";var n=r("3c9c"),a=r.n(n);a.a},e1cc:function(t,e,r){"use strict";var n=r("4562"),a=r.n(n);a.a},f343:function(t,e,r){"use strict";var n=r("8775"),a=r.n(n);a.a}}]);