(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3acaa31d"],{1370:function(t,e,n){},"2d31":function(t,e,n){"use strict";n.d(e,"i",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"d",(function(){return d}));var r=n("bdd0"),a=function(t){return Object(r["a"])("post","/bindingWeChat",t)};function o(t){return Object(r["a"])("post","/weChatDetail",t)}var i=function(){return Object(r["a"])("post","/menuWeChatList")},s=function(){return Object(r["a"])("get","/menuWeChatAdd")},u=function(){return Object(r["a"])("post","/unit")},c=function(t){return Object(r["a"])("post","/menuWeChatAdd",t)},l=function(t){return Object(r["a"])("get","/menuWeChatEdit",t)},f=function(t){return Object(r["a"])("post","/menuWeChatEdit",t)},d=function(t){return Object(r["a"])("post","/menuWeChatDel",t)}},6252:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wxMenuSetEditPage"},[n("title-common",[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("菜单编辑")])]),n("panel-common",[n("div",{attrs:{slot:"info-content"},slot:"info-content"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"一级菜单"}},[n("el-select",{staticClass:"dis_menu",attrs:{disabled:""},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}},t._l(t.editMenuSelect,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"菜单名称"}},[n("el-input",{attrs:{placeholder:"首页",clearable:"",maxlength:"7"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"菜单功能"}},[n("el-input",{staticClass:"dis_menu",attrs:{disabled:""},model:{value:t.form.function.name,callback:function(e){t.$set(t.form.function,"name",e)},expression:"form.function.name"}})],1)],1),n("el-col",{attrs:{span:4}},[n("span",{staticClass:"blue pionter",on:{click:function(e){t.showChooseDialogVisible=!0}}},[t._v("选择功能")])])],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"排序"}},[n("el-input",{attrs:{oninput:"if(this.value=='00'){this.value='0';}else{this.value=this.value.replace(/[^0-9]/g,'')};"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1)],1)],1)],1)]),n("div",{staticClass:"btns"},[n("el-button",{attrs:{type:"primary",disabled:t.disabled,loading:t.disabled},on:{click:t._saveEditMenu}},[t._v("保存")]),n("el-button",{attrs:{plain:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")])],1),n("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{visible:t.showChooseDialogVisible,width:"30%"},on:{"update:visible":function(e){t.showChooseDialogVisible=e}}},[t._l(t.funclist,(function(e,r){return n("span",{key:r,staticClass:"span",on:{click:function(n){return t.handleMenu(e)}}},[n("el-button",{attrs:{plain:""}},[t._v(t._s(e.name))])],1)})),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.handleYes}},[t._v("确 定")])],1)],2)],1)},a=[],o=(n("2eeb"),n("053b"),n("6a61"),n("cf7f")),i=n("a041"),s=n("2a94"),u=n("2d31"),c={data:function(){return{form:{function:{}},showChooseDialogVisible:!1,mid:null,editMenuSelect:[],funclist:[],checkMenu:{},disabled:!1}},created:function(){this.mid=this.$route.query.mid,this.showChooseDialog(),this._getMenuEditDefault()},components:{TitleCommon:i["a"],PanelCommon:s["a"]},methods:{_getMenuEditDefault:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["e"])({id:t.mid});case 2:n=e.sent,r=n.data,0===r.code&&(t.editMenuSelect=r.data.info,t.form={id:r.data.list.id,name:r.data.list.name,pid:r.data.list.pid,function:{name:"",url:r.data.list.url},sort:r.data.list.sort},t.funclist.map((function(e){e.url==r.data.list.url&&(t.form.function=e)})));case 6:case"end":return e.stop()}}),e)})))()},showChooseDialog:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["c"])();case 2:n=e.sent,r=n.data,0===r.code&&(t.funclist=r.data);case 6:case"end":return e.stop()}}),e)})))()},_saveEditMenu:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.form.name){e.next=3;break}return t.$message.error("请输入菜单名称"),e.abrupt("return");case 3:if(!(0==!t.form.hospital&&t.form.name.length>4)){e.next=6;break}return t.$message.error("菜单名称长度超出限制，一级菜单最多4个汉字"),e.abrupt("return");case 6:if(!(0!==!t.form.hospital&&t.form.name.length>7)){e.next=9;break}return t.$message.error("菜单名称长度超出限制，二级菜单最多7个汉字"),e.abrupt("return");case 9:if(t.form.function.url){e.next=12;break}return t.$message.error("请选择菜单功能"),e.abrupt("return");case 12:if(t.form.sort){e.next=15;break}return t.$message.error("请输入排序"),e.abrupt("return");case 15:return t.disabled=!0,e.next=18,Object(u["g"])({id:t.form.id,pid:t.form.pid,name:t.form.name,url:t.form.function.url,sort:t.form.sort});case 18:n=e.sent,r=n.data,0===r.code?(t.$message.success("修改成功！"),t.$router.go(-1)):(t.$message.error(r.msg),t.disabled=!1);case 22:case"end":return e.stop()}}),e)})))()},handleMenu:function(t){this.checkMenu=t},handleYes:function(){this.form.function=this.checkMenu,this.showChooseDialogVisible=!1}}},l=c,f=(n("d950"),n("e81b"),n("9ca4")),d=Object(f["a"])(l,r,a,!1,null,"0ef9927c",null);e["default"]=d.exports},8775:function(t,e,n){},a041:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"title"},[t._t("title")],2),t._t("tag")],2)},a=[],o=(n("f343"),n("9ca4")),i={},s=Object(o["a"])(i,r,a,!1,null,"2a454133",null);e["a"]=s.exports},d950:function(t,e,n){"use strict";var r=n("e74c"),a=n.n(r);a.a},e74c:function(t,e,n){},e81b:function(t,e,n){"use strict";var r=n("1370"),a=n.n(r);a.a},f343:function(t,e,n){"use strict";var r=n("8775"),a=n.n(r);a.a}}]);