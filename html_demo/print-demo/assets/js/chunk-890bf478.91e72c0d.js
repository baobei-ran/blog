(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-890bf478"],{1799:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.total,"page-size":t.per_page,"current-page":t.current_page},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],o=(n("513c"),{props:{current_page:{type:Number,default:1},per_page:{type:Number,default:10},total:{type:Number,default:0}},methods:{handleSizeChange:function(t){this.$emit("handleSizeChangeSon",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChangeSon",t)}}}),l=o,i=n("9ca4"),c=Object(i["a"])(l,a,r,!1,null,null,null);e["a"]=c.exports},"9bd5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"patient"},[n("el-card",[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"患者姓名"}},[n("el-input",{attrs:{clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"患者手机"}},[n("el-input",{attrs:{clearable:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"病历号"}},[n("el-input",{attrs:{clearable:""},model:{value:t.form.pNumber,callback:function(e){t.$set(t.form,"pNumber",e)},expression:"form.pNumber"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"性别"}},[n("el-select",{attrs:{placeholder:""},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},t._l(t.sexlist,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:e+1}})})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"年龄区间"}},[n("el-row",[n("el-col",{attrs:{span:11}},[n("el-input",{attrs:{clearable:""},model:{value:t.form.ageStart,callback:function(e){t.$set(t.form,"ageStart",e)},expression:"form.ageStart"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("-")]),n("el-col",{attrs:{span:11}},[n("el-input",{attrs:{clearable:""},model:{value:t.form.ageEnd,callback:function(e){t.$set(t.form,"ageEnd",e)},expression:"form.ageEnd"}})],1)],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"创建时间"}},[n("el-date-picker",{staticStyle:{width:"auto"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),n("el-col",{staticClass:"Mg-L30",attrs:{span:6}},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("查询")]),n("el-button",{attrs:{plain:""},on:{click:t.resetPatientForm}},[t._v("重置")])],1)])],1)],1)],1),n("el-card",{staticClass:"Mg-T20"},[n("f-table",{attrs:{"table-label":t.tableLabel,"table-data":t.tableData},scopedSlots:t._u([{key:"formatDate",fn:function(e){return[t._v(" "+t._s(t._f("allDateFormat")(e.data.create_time))+" ")]}},{key:"sex",fn:function(e){return[2==e.data.sex?n("div",[t._v("女")]):1==e.data.sex?n("div",[t._v("男")]):n("div",[t._v("保密")])]}},{key:"opt",fn:function(e){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini",plain:""},on:{click:function(n){return t._toPatientDetailPage(e.data.number)}}},[t._v(" 查看 ")])]}}])}),n("pagination",{attrs:{total:t.total,current_page:t.form.page,per_page:t.form.limit},on:{handleSizeChangeSon:t.handleSizeChangeFather,handleCurrentChangeSon:t.handleCurrentChangeFather}})],1)],1)},r=[],o=(n("2eeb"),n("e18c"),n("1c2e"),n("6a61"),n("cf7f")),l=n("0748"),i=n("1799"),c=n("9f39"),u={data:function(){return{form:{name:"",phone:"",pNumber:"",ageStart:"",ageEnd:"",sex:"",page:1,limit:10},sexlist:["男","女"],dateRange:[],tableLabel:[{prop:"index",label:"序号"},{prop:"real_name",label:"姓名"},{prop:"patient_number",label:"病历号"},{prop:"sex",label:"性别",columnType:"slot",slotName:"sex"},{prop:"age",label:"年龄"},{prop:"phone",label:"手机号"},{prop:"create_time",label:"创建时间",columnType:"slot",slotName:"formatDate"},{label:"操作",columnType:"slot",slotName:"opt"}],tableData:[],total:0}},components:{FTable:l["a"],Pagination:i["a"]},created:function(){this._getPatientListData()},methods:{handleSearch:function(){this.form.page=1,this._getPatientListData()},_getPatientListData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dateRange.length&&(t.form.timeStart=(new Date(t.dateRange[0]).getTime()/1e3).toString(),t.form.timeEnd=((new Date(t.dateRange[1]).getTime()+864e5)/1e3).toString()),e.prev=1,e.next=4,Object(c["r"])(t.form);case 4:n=e.sent,a=n.data,0!==a.code?(t.tableData=[],t.total=0):(a.data.data.map((function(e,n){e.index=n+1+(t.form.page-1)*t.form.limit})),t.tableData=a.data.data,t.total=a.data.total),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})))()},resetPatientForm:function(){this.$refs.form.resetFields(),this.form={name:"",phone:"",pNumber:"",ageStart:"",ageEnd:"",sex:"",page:1,limit:10},this.dateRange=[],this._getPatientListData()},_toPatientDetailPage:function(t){this.$isAuth("home/patient/patientDetail")&&this.$router.push({path:"/home/patient/patientDetail",query:{num:t}})},handleSizeChangeFather:function(t){this.form.limit=t,this._getPatientListData()},handleCurrentChangeFather:function(t){this.form.page=t,this._getPatientListData()}}},s=u,f=(n("ffac"),n("9ca4")),p=Object(f["a"])(s,a,r,!1,null,"254845c6",null);e["default"]=p.exports},"9f39":function(t,e,n){"use strict";n.d(e,"r",(function(){return r})),n.d(e,"j",(function(){return o})),n.d(e,"k",(function(){return l})),n.d(e,"m",(function(){return i})),n.d(e,"o",(function(){return c})),n.d(e,"p",(function(){return u})),n.d(e,"l",(function(){return s})),n.d(e,"q",(function(){return f})),n.d(e,"n",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"h",(function(){return m})),n.d(e,"g",(function(){return b})),n.d(e,"f",(function(){return g})),n.d(e,"t",(function(){return h})),n.d(e,"y",(function(){return v})),n.d(e,"i",(function(){return _})),n.d(e,"c",(function(){return j})),n.d(e,"x",(function(){return x})),n.d(e,"v",(function(){return w})),n.d(e,"s",(function(){return O})),n.d(e,"d",(function(){return S})),n.d(e,"w",(function(){return k})),n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return D})),n.d(e,"u",(function(){return y}));var a=n("bdd0"),r=function(t){return Object(a["a"])("post","/patientList",t)},o=function(t){return Object(a["a"])("post","/patientLists",t)},l=function(t){return Object(a["a"])("post","/patientDetail",t)},i=function(t){return Object(a["a"])("post","/figureImage",t)},c=function(t){return Object(a["a"])("post","/patientInquiryList",t)},u=function(t){return Object(a["a"])("post","/followLists",t)},s=function(t){return Object(a["a"])("post","/casePatientList",t)},f=function(t){return Object(a["a"])("post","/followDetail",t)},p=function(t){return Object(a["a"])("post","/ofReportImage",t)},d=function(t){return Object(a["a"])("post","/viewReport",t)},m=function(t){return Object(a["a"])("post","/followList",t)},b=function(t){return Object(a["a"])("post","/getPatients",t)},g=function(){return Object(a["a"])("get","/createFollow")},h=function(t){return Object(a["a"])("post","/createFollow",t)},v=function(t){return Object(a["a"])("get","/dealFollow",t)},_=function(t){return Object(a["a"])("post","/dealFollow",t)},j=function(t){return Object(a["a"])("post","/getFollowDetail",t)},x=function(t){return Object(a["a"])("get","/editFollow",t)},w=function(t){return Object(a["a"])("post","/editFollow",t)},O=function(t){return Object(a["a"])("post","/cancelFollow",t)},S=function(t){return Object(a["a"])("post","/patientIdCardList",t)},k=function(t){return Object(a["a"])("get","/editPatientInfo",t)},C=function(){return Object(a["a"])("post","/getAddress")},D=function(t){return Object(a["a"])("post","/getAddress",t)},y=function(t){return Object(a["a"])("post","/editPatientInfo",t)}},d28f:function(t,e,n){},ffac:function(t,e,n){"use strict";var a=n("d28f"),r=n.n(a);r.a}}]);