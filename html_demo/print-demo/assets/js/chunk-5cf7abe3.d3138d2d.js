(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cf7abe3"],{1799:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:e.total,"page-size":e.per_page,"current-page":e.current_page},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],l=(a("513c"),{props:{current_page:{type:Number,default:1},per_page:{type:Number,default:10},total:{type:Number,default:0}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChangeSon",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChangeSon",e)}}}),o=l,n=a("9ca4"),s=Object(n["a"])(o,r,i,!1,null,null,null);t["a"]=s.exports},"540d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-radio-group",{staticStyle:{"{'margin-bottom'":"'30px','width': '200px'}"},on:{change:e.numClick},model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("今日")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("全部")])],1),a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"优先级"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}},e._l(e.prioritylist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.patientName,callback:function(t){e.$set(e.form,"patientName",t)},expression:"form.patientName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.principal,callback:function(t){e.$set(e.form,"principal",t)},expression:"form.principal"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"随访主题"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.followTheme,callback:function(t){e.$set(e.form,"followTheme",t)},expression:"form.followTheme"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"随访状态"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statuslist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),2==e.form.dayType?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访日期"}},[a("el-date-picker",{staticStyle:{width:"auto"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.onChnageDate},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)],1):e._e(),a("el-col",{attrs:{span:6}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)])],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddOrEditVisitDialog}},[e._v(" 新建随访 ")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel,"table-data":e.tableData},scopedSlots:e._u([{key:"pri",fn:function(t){return[1==t.data.priority?a("span",[e._v("低")]):2==t.data.priority?a("span",[e._v("中")]):a("span",[e._v("高")])]}},{key:"sex",fn:function(t){return[0==t.data.patient_sex?a("div",[e._v("保密")]):1==t.data.patient_sex?a("div",[e._v("男")]):a("div",[e._v("女")])]}},{key:"allStatus",fn:function(t){return[1==t.data.status?a("span",[e._v("待随访")]):2==t.data.status?a("span",[e._v("已完成")]):a("span",[e._v("已取消")])]}},{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("allDateFormat")(t.data.plan_time))+" ")]}},{key:"formatDateFinish",fn:function(t){return[e._v(" "+e._s(e._f("allDateFormat")(t.data.over_time))+" ")]}},{key:"opt",fn:function(t){return[1==t.data.status?a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.showHandleDialog(t.data)}}},[e._v(" 处理 ")]):e._e(),1==t.data.status||2==t.data.status||3==t.data.status?a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini",plain:""},on:{click:function(a){return e.showDetailDialog(t.data.fid)}}},[e._v(" 查看 ")]):e._e(),1==t.data.status?a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data)}}},[e._v(" 编辑 ")]):e._e(),1==t.data.status?a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.fid)}}},[e._v(" 取消 ")]):e._e()]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form.page,per_page:e.form.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"处理随访",visible:e.handleDialogVisible,width:"50%"},on:{"update:visible":function(t){e.handleDialogVisible=t}}},[a("el-form",{ref:"handleFormRef",attrs:{model:e.handleForm,rules:e.handleFormRules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.handleForm.docName,callback:function(t){e.$set(e.handleForm,"docName",t)},expression:"handleForm.docName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.handleForm.create_time,callback:function(t){e.$set(e.handleForm,"create_time",t)},expression:"handleForm.create_time"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.handleForm.patient_name,callback:function(t){e.$set(e.handleForm,"patient_name",t)},expression:"handleForm.patient_name"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访主题",prop:"follow_theme"}},[a("el-input",{model:{value:e.handleForm.follow_theme,callback:function(t){e.$set(e.handleForm,"follow_theme",t)},expression:"handleForm.follow_theme"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访要点"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.handleForm.follow_gist,callback:function(t){e.$set(e.handleForm,"follow_gist",t)},expression:"handleForm.follow_gist"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访结果",prop:"follow_result"}},[a("el-input",{attrs:{type:"textarea",placeholder:"(必填)请填写随访完成情况"},model:{value:e.handleForm.follow_result,callback:function(t){e.$set(e.handleForm,"follow_result",t)},expression:"handleForm.follow_result"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[a("span",[e._v(" "+e._s(1==e.handleForm.priority?"低":2==e.handleForm.priority?"中":"高")+" ")])])],1),a("el-col",{attrs:{span:12}},[void 0!==e.handleForm.plan_time?a("el-form-item",{attrs:{label:"计划随访时间",prop:"plan_time"}},[a("el-input",{attrs:{disabled:""},model:{value:e.handleForm.plan_time,callback:function(t){e.$set(e.handleForm,"plan_time",t)},expression:"handleForm.plan_time"}})],1):e._e()],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetHandleVisit}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleVisit}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:1==e.detailForm.status?"待随访":2==e.detailForm.status?"已完成":"已取消",visible:e.detailDialogVisible,width:"40%"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[a("el-form",{ref:"detailFormRef",attrs:{model:e.detailForm,rules:e.detailFormRules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailForm.docName,callback:function(t){e.$set(e.detailForm,"docName",t)},expression:"detailForm.docName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.detailForm.create_time,callback:function(t){e.$set(e.detailForm,"create_time",t)},expression:"detailForm.create_time"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"患者姓名",prop:"patient_name"}},[a("span",[e._v(e._s(e.detailForm.patient_name))])])],1),a("el-col",[a("el-form-item",{attrs:{label:"随访主题",prop:"follow_theme"}},[a("span",[e._v(e._s(e.detailForm.follow_theme))])])],1),a("el-col",[a("el-form-item",{attrs:{label:"随访要点"}},[a("span",[e._v(e._s(e.detailForm.follow_gist))])])],1),2==e.detailForm.status||3==e.detailForm.status?a("el-col",[a("el-form-item",{attrs:{label:"随访结果",prop:"follow_result"}},[a("span",[e._v(e._s(e.detailForm.follow_result))])])],1):e._e(),a("el-col",[a("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[a("span",[e._v(" "+e._s(1==e.detailForm.priority?"低":2==e.detailForm.priority?"中":"高")+" ")])])],1),a("el-col",[a("el-form-item",{attrs:{label:"计划随访时间",prop:"plan_time"}},[a("span",[e._v(e._s(e._f("allDateFormat")(e.detailForm.plan_time)))])])],1),2==e.detailForm.status?a("el-col",[a("el-form-item",{attrs:{label:"完成随访时间",prop:"over_time"}},[a("span",[e._v(e._s(e._f("allDateFormat")(e.detailForm.over_time)))])])],1):e._e(),3==e.detailForm.status?a("el-col",[a("el-form-item",{attrs:{label:"取消随访时间",prop:"cancel_time"}},[a("span",[e._v(e._s(e._f("allDateFormat")(e.detailForm.cancel_time)))])])],1):e._e()],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailDialogVisible=!1}}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"新建随访",visible:e.editDialogVisible,width:"50%","before-close":e.resetAddVisit},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm.docName,callback:function(t){e.$set(e.editForm,"docName",t)},expression:"editForm.docName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm.createTime,callback:function(t){e.$set(e.editForm,"createTime",t)},expression:"editForm.createTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"患者姓名",prop:"patientNumber"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入患者姓名"},on:{focus:e.getVisitAddPatientName},model:{value:e.editForm.patientNumber,callback:function(t){e.$set(e.editForm,"patientNumber",t)},expression:"editForm.patientNumber"}},e._l(e.infolist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.teName,value:e.patient_number}})})),1)],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访主题",prop:"followTheme"}},[a("el-input",{model:{value:e.editForm.followTheme,callback:function(t){e.$set(e.editForm,"followTheme",t)},expression:"editForm.followTheme"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访要点"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.followGist,callback:function(t){e.$set(e.editForm,"followGist",t)},expression:"editForm.followGist"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.editForm.priority,callback:function(t){e.$set(e.editForm,"priority",t)},expression:"editForm.priority"}},e._l(e.prioritylist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划随访时间",prop:"planTime"}},[a("el-date-picker",{staticStyle:{width:"auto"},attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.editForm.planTime,callback:function(t){e.$set(e.editForm,"planTime",t)},expression:"editForm.planTime"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetAddVisit}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"编辑随访",visible:e.editDialogVisible2,width:"50%","before-close":e.resetEditVisit},on:{"update:visible":function(t){e.editDialogVisible2=t}}},[a("el-form",{ref:"editFormRef2",attrs:{model:e.editForm2,rules:e.editFormRules2,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm2.docName,callback:function(t){e.$set(e.editForm2,"docName",t)},expression:"editForm2.docName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm2.create_time,callback:function(t){e.$set(e.editForm2,"create_time",t)},expression:"editForm2.create_time"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm2.patient_name,callback:function(t){e.$set(e.editForm2,"patient_name",t)},expression:"editForm2.patient_name"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访主题",prop:"follow_theme"}},[a("el-input",{model:{value:e.editForm2.follow_theme,callback:function(t){e.$set(e.editForm2,"follow_theme",t)},expression:"editForm2.follow_theme"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"随访要点"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm2.follow_gist,callback:function(t){e.$set(e.editForm2,"follow_gist",t)},expression:"editForm2.follow_gist"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.editForm2.priority,callback:function(t){e.$set(e.editForm2,"priority",t)},expression:"editForm2.priority"}},e._l(e.prioritylist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计划随访时间",prop:"plan_time"}},[a("el-date-picker",{staticStyle:{width:"auto"},attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.editForm2.plan_time,callback:function(t){e.$set(e.editForm2,"plan_time",t)},expression:"editForm2.plan_time"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetEditVisit}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddOrEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定取消此条随访计划吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveDeleteDialog}},[e._v(" 确 定 ")])],1)])],1)},i=[],l=(a("2eeb"),a("5748")),o=(a("6a61"),a("cf7f")),n=a("0748"),s=a("1799"),m=a("9f39"),c=a("5f1f"),d={data:function(){return{tabPosition:"1",dateRange:[],form:{dayType:2,priority:"",patientName:"",principal:"",followTheme:"",status:"",timeStart:"",timeEnd:"",page:1,limit:10},statuslist:[{id:1,name:"待随访"},{id:2,name:"已完成"},{id:3,name:"已取消"}],tableLabel:[{prop:"index",label:"序号",width:"50"},{prop:"patient_name",label:"患者姓名"},{prop:"patient_sex",label:"性别",columnType:"slot",slotName:"sex"},{prop:"patient_phone",label:"联系电话",width:"120"},{prop:"priority",label:"优先级",columnType:"slot",slotName:"pri"},{prop:"follow_theme",label:"随访主题"},{prop:"status",label:"随访状态",columnType:"slot",slotName:"allStatus"},{prop:"principal",label:"负责人"},{prop:"plan_time",label:"计划随访时间",columnType:"slot",slotName:"formatDate",width:"120"},{prop:"over_time",label:"完成随访时间",columnType:"slot",slotName:"formatDateFinish",width:"120"},{label:"操作",columnType:"slot",slotName:"opt",width:"350",fixed:"right"}],tableData:[],total:0,handleDialogVisible:!1,handleForm:{},patient_number:"",handleFormRules:{follow_theme:[{required:!0,message:"请输入随访主题",trigger:"blur"}],follow_result:[{required:!0,message:"请输入随访结果",trigger:"blur"}],priority:[{required:!0,message:"请输入优先级",trigger:"blur"}],over_time:[{required:!0,message:"请输入完成随访时间",trigger:"blur"}]},editDialogVisible:!1,editForm:{docName:"",createTime:"",patientNumber:"",followTheme:"",followGist:"",priority:"",planTime:""},editFormRules:{patientNumber:[{required:!0,message:"请输入患者姓名",change:"blur"}],followTheme:[{required:!0,message:"请输入随访主题",trigger:"blur"}],result:[{required:!0,message:"请输入随访结果",trigger:"blur"}],priority:[{required:!0,message:"请输入优先级",trigger:"blur"}],planTime:[{required:!0,message:"请输入计划随访时间",trigger:"blur"}]},editDialogVisible2:!1,editForm2:{patientNumber:""},editFormRules2:{follow_theme:[{required:!0,message:"请输入随访主题",trigger:"blur"}],priority:[{required:!0,message:"请输入优先级",trigger:"blur"}],plan_time:[{required:!0,message:"请输入计划随访时间",trigger:"blur"}]},createTime:"",detailDialogVisible:!1,detailForm:{docName:"",create_time:"",patient_name:"",follow_theme:"",follow_gist:"",priority:"",plan_time:"",follow_result:"",over_time:"",cancel_time:""},detailFormRules:{patient_name:[{required:!0,message:"请输入患者姓名",trigger:"blur"}],follow_theme:[{required:!0,message:"请输入随访主题",trigger:"blur"}],priority:[{required:!0,message:"请输入优先级",trigger:"blur"}],plan_time:[{required:!0,message:"请输入计划完成时间",trigger:"blur"}],follow_result:[{required:!0,message:"请输入随访结果",trigger:"blur"}],over_time:[{required:!0,message:"请输入完成随访时间",trigger:"blur"}],cancel_time:[{required:!0,message:"请输入取消随访时间",trigger:"blur"}]},prioritylist:[{id:1,name:"低"},{id:2,name:"中"},{id:3,name:"高"}],deleteDialogVisible:!1,num:1,fid:0,infolist:[]}},components:{FTable:n["a"],Pagination:s["a"]},created:function(){this.getVisitlist()},methods:{numClick:function(e){this.num=e,this.form.page=1,this.getVisitlist()},onChnageDate:function(e){if(!e||!e.length)return e=[],this.form.timeStart="",void(this.form.timeEnd="");e&&e.length&&(this.form.timeStart=e[0],this.form.timeEnd=e[1])},getVisitlist:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.dayType=e.num,t.prev=1,t.next=4,Object(m["h"])(e.form);case 4:a=t.sent,r=a.data,0!==r.code?(e.tableData=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form.page-1)*e.form.limit})),e.tableData=r.data.data,e.total=r.data.total||0),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},handleSearch:function(){this.form.page=1,this.getVisitlist()},handleSizeChangeFather:function(e){this.form.limit=e,this.getVisitlist()},handleCurrentChangeFather:function(e){this.form.page=e,this.getVisitlist()},resetForm:function(){this.$refs.form.resetFields(),this.form={dayType:2,priority:"",patientName:"",principal:"",followTheme:"",status:"",timeStart:"",timeEnd:"",page:1,limit:10},this.dateRange=[],this.getVisitlist()},showAddOrEditVisitDialog:function(){this.$isAuth("visitListAdd")&&(this.editDialogVisible=!0,this.getVisitAddDocName())},getVisitAddPatientName:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m["g"])({patientName:e.editForm.patientName});case 3:a=t.sent,r=a.data,0!==r.code||(e.infolist=Object(l["a"])(r.data.data),i=[],e.infolist.map((function(e){e.teName=e.real_name+"--"+e.id_card,i.push(e.teName)}))),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getVisitAddDocName:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m["f"])();case 3:a=t.sent,r=a.data,0!==r.code||(e.prioritylist=r.data.priority,e.editForm.priority=e.prioritylist.length&&e.prioritylist[1].id,e.editForm.docName=r.data.doc_name,e.createTime=r.data.time,e.editForm.createTime=Object(c["c"])(1e3*e.createTime),e.handleForm.docName=r.data.doc_name,e.editForm2.docName=r.data.doc_name,e.detailForm.docName=r.data.doc_name),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},saveAddDialog:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editForm.patientNumber){t.next=3;break}return e.$message.error("请完善患者姓名"),t.abrupt("return");case 3:if(e.editForm.followTheme){t.next=6;break}return e.$message.error("请完善随访主题"),t.abrupt("return");case 6:if(e.editForm.priority){t.next=9;break}return e.$message.error("请选择优先级"),t.abrupt("return");case 9:if(e.editForm.planTime){t.next=12;break}return e.$message.error("请选择计划随访时间"),t.abrupt("return");case 12:return t.prev=12,t.next=15,Object(m["t"])(e.editForm);case 15:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("新建随访成功！"),e.getVisitlist(),e.editDialogVisible=!1,e.editForm={},e.editForm.priority=e.prioritylist[1].id),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](12);case 24:case"end":return t.stop()}}),t,null,[[12,21]])})))()},resetAddVisit:function(){this.editForm={},this.$refs.editFormRef.resetFields(),this.editDialogVisible=!1},showHandleDialog:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i,l,o,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.$isAuth("visitListHandle")){a.next=14;break}return t.fid=e.fid,a.prev=2,a.next=5,Object(m["y"])({fid:e.fid});case 5:r=a.sent,i=r.data,0!==i.code?t.$message.error(i.msg):(t.handleForm.patient_name=i.data.patient_name,t.patient_number=i.data.patient_number,t.handleForm=i.data,t.handleForm.docName=i.data.principal,l=i.data.create_time,t.handleForm.create_time=Object(c["c"])(1e3*l),o=i.data.plan_time,t.handleForm.plan_time=Object(c["c"])(1e3*o),n=i.data.over_time,t.handleForm.over_time=Object(c["c"])(1e3*n),s=i.data.cancel_time,t.handleForm.cancel_time=Object(c["c"])(1e3*s),t.handleDialogVisible=!0),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},handleVisit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.handleForm.follow_theme){t.next=3;break}return e.$message.error("请完善随访主题"),t.abrupt("return");case 3:if(e.handleForm.follow_result){t.next=6;break}return e.$message.error("请完善随访结果"),t.abrupt("return");case 6:return t.prev=6,t.next=9,Object(m["i"])({patientNumber:e.patient_number,followTheme:e.handleForm.follow_theme,followGist:e.handleForm.follow_gist,priority:e.handleForm.priority,planTime:e.handleForm.plan_time,followResult:e.handleForm.follow_result,fid:e.handleForm.fid});case 9:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("处理随访成功！"),e.getVisitlist(),e.handleDialogVisible=!1,e.handleForm={},e.handleForm.priority=e.prioritylist[1].id),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6);case 18:case"end":return t.stop()}}),t,null,[[6,15]])})))()},resetHandleVisit:function(){this.handleForm={},this.$refs.handleFormRef.resetFields(),this.handleDialogVisible=!1},showDetailDialog:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.$isAuth("visitListDetail")){a.next=14;break}return a.prev=2,a.next=5,Object(m["c"])({fid:e});case 5:r=a.sent,i=r.data,0!==i.code?t.$message.error(i.msg):(t.detailForm=i.data,t.detailForm.docName=i.data.principal,l=i.data.create_time,t.detailForm.create_time=Object(c["c"])(1e3*l),t.detailDialogVisible=!0),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},showEditDialog:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.$isAuth("visitListEdit")){a.next=14;break}return t.fid=e.fid,a.prev=2,a.next=5,Object(m["x"])({fid:e.fid});case 5:r=a.sent,i=r.data,0!==i.code?t.$message.error(i.msg):(t.editForm2=i.data,t.editForm2.docName=i.data.principal,t.patient_number=i.data.patient_number,l=i.data.create_time,t.editForm2.create_time=Object(c["c"])(1e3*l),o=i.data.plan_time?i.data.plan_time:null,t.editForm2.plan_time=Object(c["c"])(1e3*o),t.editDialogVisible2=!0),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},saveAddOrEditDialog:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editForm2.follow_theme){t.next=3;break}return e.$message.error("请完善随访主题"),t.abrupt("return");case 3:if(e.editForm2.priority){t.next=6;break}return e.$message.error("请选择优先级"),t.abrupt("return");case 6:if(e.editForm2.plan_time){t.next=9;break}return e.$message.error("请选择计划随访时间"),t.abrupt("return");case 9:return t.prev=9,t.next=12,Object(m["v"])({patientNumber:e.patient_number,followTheme:e.editForm2.follow_theme,followGist:e.editForm2.follow_gist,priority:e.editForm2.priority,planTime:e.editForm2.plan_time,fid:e.editForm2.fid});case 12:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("编辑随访成功！"),e.getVisitlist(),e.editDialogVisible2=!1,e.editForm2={}),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9);case 21:case"end":return t.stop()}}),t,null,[[9,18]])})))()},resetEditVisit:function(){this.editForm2={},this.$refs.editFormRef2.resetFields(),this.editDialogVisible2=!1},showDeleteDialog:function(e){this.$isAuth("visitListCancel")&&(this.fid=e,this.deleteDialogVisible=!0)},saveDeleteDialog:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m["s"])({fid:e.fid});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("取消随访成功！"),e.getVisitlist(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},u=d,p=a("9ca4"),f=Object(p["a"])(u,r,i,!1,null,"234326da",null);t["default"]=f.exports},"5f1f":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l}));a("b4fb"),a("898e");function r(e){if(e){var t=new Date(e),a=t.getFullYear(),r=(t.getMonth()+1+"").padStart(2,"0"),i=(t.getDate()+"").padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(i)}}function i(e){if(e){var t=new Date(e),a=(t.getMonth()+1+"").padStart(2,"0"),r=(t.getDate()+"").padStart(2,"0");return"".concat(a,"-").concat(r)}}function l(e){if(e){var t=new Date(e),a=t.getFullYear(),r=(t.getMonth()+1+"").padStart(2,"0"),i=(t.getDate()+"").padStart(2,"0"),l=(t.getHours()+"").padStart(2,"0"),o=(t.getMinutes()+"").padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(i," ").concat(l,":").concat(o)}}},"9f39":function(e,t,a){"use strict";a.d(t,"r",(function(){return i})),a.d(t,"j",(function(){return l})),a.d(t,"k",(function(){return o})),a.d(t,"m",(function(){return n})),a.d(t,"o",(function(){return s})),a.d(t,"p",(function(){return m})),a.d(t,"l",(function(){return c})),a.d(t,"q",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return g})),a.d(t,"t",(function(){return h})),a.d(t,"y",(function(){return _})),a.d(t,"i",(function(){return F})),a.d(t,"c",(function(){return v})),a.d(t,"x",(function(){return w})),a.d(t,"v",(function(){return y})),a.d(t,"s",(function(){return k})),a.d(t,"d",(function(){return x})),a.d(t,"w",(function(){return D})),a.d(t,"b",(function(){return $})),a.d(t,"a",(function(){return O})),a.d(t,"u",(function(){return N}));var r=a("bdd0"),i=function(e){return Object(r["a"])("post","/patientList",e)},l=function(e){return Object(r["a"])("post","/patientLists",e)},o=function(e){return Object(r["a"])("post","/patientDetail",e)},n=function(e){return Object(r["a"])("post","/figureImage",e)},s=function(e){return Object(r["a"])("post","/patientInquiryList",e)},m=function(e){return Object(r["a"])("post","/followLists",e)},c=function(e){return Object(r["a"])("post","/casePatientList",e)},d=function(e){return Object(r["a"])("post","/followDetail",e)},u=function(e){return Object(r["a"])("post","/ofReportImage",e)},p=function(e){return Object(r["a"])("post","/viewReport",e)},f=function(e){return Object(r["a"])("post","/followList",e)},b=function(e){return Object(r["a"])("post","/getPatients",e)},g=function(){return Object(r["a"])("get","/createFollow")},h=function(e){return Object(r["a"])("post","/createFollow",e)},_=function(e){return Object(r["a"])("get","/dealFollow",e)},F=function(e){return Object(r["a"])("post","/dealFollow",e)},v=function(e){return Object(r["a"])("post","/getFollowDetail",e)},w=function(e){return Object(r["a"])("get","/editFollow",e)},y=function(e){return Object(r["a"])("post","/editFollow",e)},k=function(e){return Object(r["a"])("post","/cancelFollow",e)},x=function(e){return Object(r["a"])("post","/patientIdCardList",e)},D=function(e){return Object(r["a"])("get","/editPatientInfo",e)},$=function(){return Object(r["a"])("post","/getAddress")},O=function(e){return Object(r["a"])("post","/getAddress",e)},N=function(e){return Object(r["a"])("post","/editPatientInfo",e)}}}]);