(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ac7c94d"],{"05c3":function(e,t,a){"use strict";a.d(t,"s",(function(){return i})),a.d(t,"o",(function(){return l})),a.d(t,"n",(function(){return s})),a.d(t,"m",(function(){return n})),a.d(t,"q",(function(){return o})),a.d(t,"p",(function(){return c})),a.d(t,"r",(function(){return m})),a.d(t,"i",(function(){return u})),a.d(t,"c",(function(){return f})),a.d(t,"h",(function(){return p})),a.d(t,"k",(function(){return d})),a.d(t,"l",(function(){return _})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"j",(function(){return v})),a.d(t,"d",(function(){return x})),a.d(t,"e",(function(){return g})),a.d(t,"g",(function(){return y})),a.d(t,"f",(function(){return k}));var r=a("bdd0");function i(e){return Object(r["a"])("post","/relevanceCentreHospitalList",e)}function l(e){return Object(r["a"])("post","/hospitalDetails",e)}function s(e){return Object(r["a"])("post","/askCooperation",e)}function n(e){return Object(r["a"])("post","/allHospitalList",e)}function o(e){return Object(r["a"])("post","/juniorAskList",e)}function c(e){return Object(r["a"])("post","/joinHospitalDetails",e)}function m(e){return Object(r["a"])("post","/queryCooperation",e)}function u(e){return Object(r["a"])("post","/groupAskUser",e)}function f(e){return Object(r["a"])("get","/groupAskUserDetails",e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(r["a"])("post","/hospitalDoctor",e)}function d(e){return Object(r["a"])("post","/groupAskUserDetails",e)}function _(e){return Object(r["a"])("post","/groupAskUserUpd",e)}function b(e){return Object(r["a"])("post","/groupAskList",e)}function h(e){return Object(r["a"])("post","/groupAskListDetails",e)}function v(e){return Object(r["a"])("post","/groupAskListRecall",e)}function x(e){return Object(r["a"])("post","/groupByList",e)}function g(e){return Object(r["a"])("post","/groupByListDetails",e)}function y(e){return Object(r["a"])("post","/groupByReceiveReject",e)}function k(e){return Object(r["a"])("post","/groupByListIssue",e)}},"1c6f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"applicationRemoteDetailPageEditPage"},[a("title-common",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("申请详情")]),e.form.examine_status?a("el-tag",{attrs:{slot:"tag",size:"medium"},slot:"tag"},[e._v(" 诊断状态："+e._s(2==e.form.examine_status?"初步报告":3==e.form.examine_status?"审核通过":4==e.form.examine_status?"审核驳回":5==e.form.examine_status?"修改报告":6==e.form.examine_status?"确认报告":"检查完成")+" ")]):e._e()],1),a("el-tabs",{staticClass:"Mg-T20",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"申请信息",name:"first"}},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.formRules,"label-width":"100px"}},[a("el-row",{staticClass:"row-container"},[a("el-col",{staticClass:"col-left",attrs:{span:16}},[a("panel-common",[a("div",{attrs:{slot:"info-title"},slot:"info-title"},[e._v("检查信息")]),a("div",{staticClass:"info-content",attrs:{slot:"info-content"},slot:"info-content"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者姓名：",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.real_name,callback:function(t){e.$set(e.form,"real_name",t)},expression:"form.real_name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"患者手机：",prop:"phone"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"M"}},[e._v("男")]),a("el-radio",{attrs:{label:"F"}},[e._v("女")])],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年龄：",prop:"age"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"生日："}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检查设备:"}},[a("el-select",{model:{value:e.form.examine_devices,callback:function(t){e.$set(e.form,"examine_devices",t)},expression:"form.examine_devices"}},e._l(e.examine_devicesList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检查部位:"}},[a("el-select",{model:{value:e.form.examine_part,callback:function(t){e.$set(e.form,"examine_part",t)},expression:"form.examine_part"}},e._l(e.examine_partList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检查项目:"}},[a("el-select",{model:{value:e.form.examine_items,callback:function(t){e.$set(e.form,"examine_items",t)},expression:"form.examine_items"}},e._l(e.examine_itemsList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:" 检查号："}},[a("span",{staticClass:"Pd-L5"},[e._v(e._s(e.form.dcm_patient_id))])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:" 检查类别："}},[a("span",[e._v(e._s(e.form.examine_type))])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:" 检查时间："}},[a("span",[e._v(e._s(e._f("dateFormat")(e.form.examine_time)))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"扫描方式:"}},[a("el-select",{model:{value:e.form.scan_type,callback:function(t){e.$set(e.form,"scan_type",t)},expression:"form.scan_type"}},e._l(e.scan_typeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:8}}),a("el-col",{attrs:{span:8}})],1)],1)]),a("panel-common",[a("div",{attrs:{slot:"info-title"},slot:"info-title"},[e._v("患者病历信息")]),a("div",{staticClass:"info-content",attrs:{slot:"info-content"},slot:"info-content"},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"患者主诉：",prop:"main_tell","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写患者主诉",rows:2},model:{value:e.form.main_tell,callback:function(t){e.$set(e.form,"main_tell",t)},expression:"form.main_tell"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"现病史：","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写患者现病史",rows:2},model:{value:e.form.now_illness,callback:function(t){e.$set(e.form,"now_illness",t)},expression:"form.now_illness"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"既往病史：","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写患者的既往病史",rows:2},model:{value:e.form.once_illness,callback:function(t){e.$set(e.form,"once_illness",t)},expression:"form.once_illness"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"其他健康指标：","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写患者的其他健康指标",rows:2},model:{value:e.form.health,callback:function(t){e.$set(e.form,"health",t)},expression:"form.health"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"初步诊断：",prop:"initial_judge","label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写患者的初步诊断",rows:2},model:{value:e.form.initial_judge,callback:function(t){e.$set(e.form,"initial_judge",t)},expression:"form.initial_judge"}})],1)],1)],1)],1)])],1),a("el-col",{staticClass:"col-right",attrs:{span:8}},[a("panel-common",{staticClass:"Mg-L20"},[a("div",{attrs:{slot:"info-title"},slot:"info-title"},[e._v(" 申请信息 ")]),a("div",{staticClass:"info-content",attrs:{slot:"info-content"},slot:"info-content"},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"申请中心医院:","label-width":"120px"}},[a("el-select",{on:{change:function(t){return e.onChangeDoc(e.applyHospital)}},model:{value:e.applyHospital,callback:function(t){e.applyHospital=t},expression:"applyHospital"}},e._l(e.data_hos,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"申请诊断医生:","label-width":"120px"}},[a("el-select",{model:{value:e.by_did,callback:function(t){e.by_did=t},expression:"by_did"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.docList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.did}})}))],2)],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"是否急诊："}},[a("el-radio-group",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio",{attrs:{label:2}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"申请描述："}},[a("el-input",{attrs:{type:"textarea",rows:12},model:{value:e.describe,callback:function(t){e.describe=t},expression:"describe"}})],1)],1)],1)],1)])],1)],1)],1),a("div",{staticClass:"btns Mg-T20"},[a("el-button",{attrs:{type:"primary",disabled:e.disabled,loading:e.disabled},on:{click:e.handleSubmit}},[e._v(" 申请远程诊断 ")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)},i=[],l=(a("2eeb"),a("e35a"),a("0d7a"),a("e793")),s=(a("6a61"),a("cf7f")),n=a("a041"),o=a("2a94"),c=a("05c3"),m={data:function(){return{activeName:"first",id:this.$route.query.id,form:{real_name:"",phone:"",sex:"",age:"",birthday:"",examine_devices:"",examine_part:"",examine_items:"",scan_type:"",discipline:"",main_tell:"",now_illness:"",once_illness:"",health:"",initial_judge:""},applyHospital:"",by_did:"",type:2,describe:"",data_hos:[],formRules:{real_name:[{required:!0,message:"请输入患者姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入患者手机",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],main_tell:[{required:!0,message:"请填写患者主诉",trigger:"blur"}],initial_judge:[{required:!0,message:"请填写初步诊断",trigger:"blur"}]},examine_typeList:[],examine_partList:[],examine_devicesList:[],examine_itemsList:[],scan_typeList:[],docList:[],disabled:!1,doc_did:JSON.parse(this.$cookie.get("USERLOGIN")).did}},components:{TitleCommon:n["a"],PanelCommon:o["a"]},created:function(){this.initdata()},methods:{initdata:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["c"])({mutual_id:e.id});case 3:a=t.sent,r=a.data,0==r.code?(r.data.pacs_data_config.map((function(t){1==t.field_type&&t.field_value&&(e.examine_typeList=t.field_value.split(";")),2==t.field_type&&t.field_value&&(e.examine_partList=t.field_value.split(";")),3==t.field_type&&t.field_value&&(e.examine_devicesList=t.field_value.split(";")),4==t.field_type&&t.field_value&&(e.examine_itemsList=t.field_value.split(";")),5==t.field_type&&t.field_value&&(e.scan_typeList=t.field_value.split(";"))})),e.form=r.data.list,e.data_hos=r.data.data_hos):(e.form={},e.data_hos=[]),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onChangeDoc:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r="",t.data_hos.map((function(t){t.id==e&&(r=t.number)})),r){a.next=5;break}return t.docList=[],a.abrupt("return");case 5:return a.prev=5,a.next=8,Object(c["h"])({number:r});case 8:i=a.sent,l=i.data,0==l.code?t.docList=l.data.list:t.docList=[],a.next=16;break;case 14:a.prev=14,a.t0=a["catch"](5);case 16:case"end":return a.stop()}}),a,null,[[5,14]])})))()},handleClick:function(e,t){},handleSubmit:function(){var e=this;if(this.form.real_name)if(this.form.phone){var t=/^1[3456789]\d{9}$/;t.test(this.form.phone)?this.form.sex&&this.form.sex?this.form.age?this.form.main_tell?this.form.initial_judge?this.applyHospital?(this.form.inpatient_area||(this.form.inpatient_area=""),this.form.examine_result||(this.form.examine_result=0),this.form.discipline||(this.form.discipline=""),this.form.scan_type||(this.form.scan_type=""),this.form.examine_remark||(this.form.examine_remark=""),this.form.examine_see||(this.form.examine_see=""),this.form.impressive||(this.form.impressive=""),this.form.in_hos_number||(this.form.in_hos_number=""),this.form.bed_number||(this.form.bed_number=""),this.disabled=!0,Object(c["k"])(Object(l["a"])(Object(l["a"])({},this.form),{},{examine_number:this.form.dcm_patient_id,flag:1,mutual_id:this.id,by_hid:this.applyHospital,by_did:this.by_did,describe:this.describe,did:this.doc_did})).then((function(t){if(0==t.data.code){e.$message.success("提交成功！");var a=setTimeout((function(){e.$router.go(-1),clearTimeout(a)}),800)}else e.$message.error(t.data.msg),e.disabled=!1})).catch((function(t){e.$message.error("服务器错误，提交失败！"),e.disabled=!1}))):this.$message.error("请选择申请中心医院"):this.$message.error("请输入初步诊断"):this.$message.error("请输入患者主诉"):this.$message.error("请输入患者年龄"):this.$message.error("请输入患者性别"):this.$message.error("请输入正确的手机号")}else this.$message.error("请输入患者手机号");else this.$message.error("请输入患者姓名")}}},u=m,f=(a("48a3"),a("9ca4")),p=Object(f["a"])(u,r,i,!1,null,"c5c3c306",null);t["default"]=p.exports},"48a3":function(e,t,a){"use strict";var r=a("60f7"),i=a.n(r);i.a},"60f7":function(e,t,a){},8775:function(e,t,a){},a041:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"title"},[e._t("title")],2),e._t("tag")],2)},i=[],l=(a("f343"),a("9ca4")),s={},n=Object(l["a"])(s,r,i,!1,null,"2a454133",null);t["a"]=n.exports},f343:function(e,t,a){"use strict";var r=a("8775"),i=a.n(r);i.a}}]);