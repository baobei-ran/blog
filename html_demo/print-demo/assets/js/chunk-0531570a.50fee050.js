(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0531570a"],{"740d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA3UlEQVRIS2NkoDFgpLH5DKMWEAzh0SCibhBFtfyX//vnTwEzC8uEZTWMDwmazsBAfDKFGP77wP//DAqMjAwPmFlYHYixhKhIhhvOwCjFyMDQ/Z+BoZSR4f8zYiwhaAGy4UyMjEEr6lm2RjT+8f73//86YizBawE2w2HhTqwlOC3AZzgplmC1gBjDibUEqwXhDb/7/zMwZMHCnFByRAQXw7SVDayFyOqx+6D9vyDTTwbhJQ2MdwgZDpOPafiv8o+d4e2ySsb3BC0g1lBi1BFMpsQYgk/NqAUEQ3DoBxEAvHuFGTbNBQMAAAAASUVORK5CYII="},"763b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"moneyBindWX"},[t._m(0),s("div",{staticClass:"steps"},[s("div",{staticClass:"header",class:{shou:t.collapse}},[t._m(1),s("div",{staticClass:"right",on:{click:function(e){t.collapse=!t.collapse}}},[t.collapse?s("div",{staticClass:"right-toggle"},[s("span",[t._v("展开")]),s("img",{attrs:{src:a("d6b9"),alt:""}})]):s("div",{staticClass:"right-toggle"},[s("span",[t._v("收起")]),s("img",{attrs:{src:a("740d"),alt:""}})])])]),t.collapse?t._e():s("div",{staticClass:"content"},[t._m(2),s("p",[t._v("02、点击“注册”，公众号类型选择“服务号”，填写基本信息并点击“注册”;")]),s("p",[t._v(" 03、选择“主体类型”，完善“主体信息登记”与“管理员信息登记”， 完善后提交即可。 ")])])]),s("div",{staticClass:"steps"},[s("div",{staticClass:"header",class:{shou:t.collapse1}},[t._m(3),s("div",{staticClass:"right",on:{click:function(e){t.collapse1=!t.collapse1}}},[t.collapse1?s("div",{staticClass:"right-toggle"},[s("span",[t._v("展开")]),s("img",{attrs:{src:a("d6b9"),alt:""}})]):s("div",{staticClass:"right-toggle"},[s("span",[t._v("收起")]),s("img",{attrs:{src:a("740d"),alt:""}})])])]),t.collapse1?t._e():s("div",{staticClass:"content"},[t._m(4),s("p",[t._v(" 02、在线提交营业执照、身份证、银行账户等基本信息，并按指引完成账户验证; ")]),s("p",[t._v(" 03、微信支付团队会在1-2个工作日内完成审核，若审核通过，包含商户号的开户信息会通过邮件和公众号推送给超级管理员，超级管理员在线签约后，即可获得正式交易权限和商户平台各项产品能力。 ")])])]),s("div",{staticClass:"steps"},[s("div",{staticClass:"header",class:{shou:t.collapse2}},[t._m(5),s("div",{staticClass:"right",on:{click:function(e){t.collapse2=!t.collapse2}}},[t.collapse2?s("div",{staticClass:"right-toggle"},[s("span",[t._v("展开")]),s("img",{attrs:{src:a("d6b9"),alt:""}})]):s("div",{staticClass:"right-toggle"},[s("span",[t._v("收起")]),s("img",{attrs:{src:a("740d"),alt:""}})])])]),t.collapse2?t._e():s("div",{staticClass:"content"},[s("el-form",{ref:"editFormRef",attrs:{size:"mini",model:t.editForm,"label-width":"200px"}},[s("p",[t._v(" 01、进入“微信公众平台->开发->基本配置->开发者”，复制“微信公众号AppID”、“微信公众号AppSecret”，并填入到下方： ")]),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"微信公众号AppID"}},[s("el-input",{attrs:{size:"mini",clearable:""},model:{value:t.editForm.app_id,callback:function(e){t.$set(t.editForm,"app_id",e)},expression:"editForm.app_id"}})],1)],1)],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"微信公众号AppSecret"}},[s("el-input",{attrs:{size:"mini",clearable:""},model:{value:t.editForm.app_secret,callback:function(e){t.$set(t.editForm,"app_secret",e)},expression:"editForm.app_secret"}})],1)],1)],1),s("p",[t._v(" 02、进入“微信商户->账户中心->商户信息”，复制“微信支付商户号”，并填写到下方; ")]),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"微信支付商户号"}},[s("el-input",{model:{value:t.editForm.merchant_code,callback:function(e){t.$set(t.editForm,"merchant_code",e)},expression:"editForm.merchant_code"}})],1)],1)],1),s("p",[t._v(" 03、进入“微信商户->账户中心->API安全->安装操作证书->设置API秘钥”，复制“API秘钥”，并填入到下方，若无秘钥，可生成秘钥并复制到商户平台。 ")]),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"API秘钥"}},[s("el-input",{model:{value:t.editForm.merchant_secret,callback:function(e){t.$set(t.editForm,"merchant_secret",e)},expression:"editForm.merchant_secret"}})],1)],1),s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.miyao}},[t._v("生成秘钥")]),s("el-button",{staticClass:"tag",attrs:{plain:"",size:"mini"},on:{click:t.copyLink}},[t._v(" 复制 ")])],1)],1),s("p",[t._v(" 04、进入“微信商户->账户中心->账户设置->API安全->证书下载”，下载“apiclient_cert.pem证书”和“apiclient_key.pem证书”，并上传到下方： ")]),s("p",{attrs:{id:"upload-wxfile"}},[s("span",{staticClass:"first"},[t._v("apiclient_cert.pem证书")]),t.haveUpload?s("span",{staticClass:"second-have"},[t._v("已上传")]):s("span",{staticClass:"second-un"},[t._v("未上传")]),t.haveUpload?s("label",{staticClass:"third",staticStyle:{color:"#567FFA"},attrs:{for:"file"}},[t._v(" 重新上传 ")]):s("label",{staticClass:"third",staticStyle:{color:"#567FFA"},attrs:{for:"file"}},[t._v(" 上传证书 ")]),s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:".pem"},on:{change:t.changeFile}})]),s("p",{attrs:{id:"upload-wxfile1"}},[s("span",{staticClass:"first"},[t._v("apiclient_key.pem证书")]),t.haveUpload2?s("span",{staticClass:"second-have"},[t._v("已上传")]):s("span",{staticClass:"second-un"},[t._v("未上传")]),t.haveUpload2?s("label",{staticClass:"third",staticStyle:{color:"#567FFA"},attrs:{for:"file2"}},[t._v(" 重新上传 ")]):s("label",{staticClass:"third",staticStyle:{color:"#567FFA"},attrs:{for:"file2"}},[t._v(" 上传证书 ")]),s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file2",accept:".pem"},on:{change:t.changeFile2}})])],1)],1)]),s("div",{staticClass:"steps"},[s("div",{staticClass:"header",class:{shou:t.collapse3}},[t._m(6),s("div",{staticClass:"right",on:{click:function(e){t.collapse3=!t.collapse3}}},[t.collapse3?s("div",{staticClass:"right-toggle"},[s("span",[t._v("展开")]),s("img",{attrs:{src:a("d6b9"),alt:""}})]):s("div",{staticClass:"right-toggle"},[s("span",[t._v("收起")]),s("img",{attrs:{src:a("740d"),alt:""}})])])]),t.collapse3?t._e():s("div",{staticClass:"content"},[s("p",[t._v(" 01、进入“商户平台”->产品中心->开发配置，添加“JSAPI支付授权目录”、“扫码回调连接”、“H5支付域名” ")]),s("div",{staticClass:"api"},[t._v(" JSAPI支付授权目录 "),s("span",{ref:"span"},[t._v("https://wx.cloudsmed.cn")]),s("el-button",{staticClass:"tag",attrs:{plain:"",size:"mini"},on:{click:t.copyLink2}},[t._v(" 复制 ")])],1)])]),s("div",{staticClass:"steps"},[s("div",{staticClass:"header",class:{shou:t.collapse4}},[t._m(7),s("div",{staticClass:"right",on:{click:function(e){t.collapse4=!t.collapse4}}},[t.collapse4?s("div",{staticClass:"right-toggle"},[s("span",[t._v("展开")]),s("img",{attrs:{src:a("d6b9"),alt:""}})]):s("div",{staticClass:"right-toggle"},[s("span",[t._v("收起")]),s("img",{attrs:{src:a("740d"),alt:""}})])])]),t.collapse4?t._e():s("div",{staticClass:"content"},[s("p",[t._v(" 01、进入“微信公众平台->设置->公众号设置->功能设置->网页授权域名”，点击“设置”下载【.txt】的文件 ")]),s("div",{attrs:{id:"upload-wxfileTxt"}},[s("span",{staticClass:"first"},[t._v("域名验证证书")]),t.haveUpload3?s("span",{staticClass:"second-have"},[t._v("已上传")]):s("span",{staticClass:"second-un"},[t._v("未上传")]),t.haveUpload3?s("label",{staticClass:"third",staticStyle:{color:"#567FFA"},attrs:{for:"file3"}},[t._v(" 重新上传 ")]):s("label",{staticClass:"third",staticStyle:{color:"#567FFA"},attrs:{for:"file3"}},[t._v(" 上传文件 ")]),s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file3",accept:".txt"},on:{change:t.changeFile3}})])])]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary"},on:{click:t._editThirdForm}},[t._v("保存")])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bind-wx"},[a("p",[t._v(" 绑定商户后，患者支付的影响金额将进入医院的微信商户，医院可自主进入微信商户提现; ")]),a("p",[t._v("请按照一下步骤，绑定微信商户")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("span",[t._v("第一步 申请微信公众号")]),a("span",{staticClass:"light"},[t._v("（若医院已有微信公众号，请忽略）")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" 01、打开浏览器，进入微信公众号平台 "),a("a",{attrs:{href:"https://mp.weixin.qq.com"}},[a("span",[t._v("<https://mp.weixin.qq.com>;")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("span",[t._v("第二步 开通微信商户")]),a("span",{staticClass:"light"},[t._v(" （若已有微信商户，建议新注册商户，仅用于云影像业务） ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" 01、打开浏览器，进入微信商户平台 "),a("a",{attrs:{href:"https://pay.weixin.qq.com"}},[a("span",[t._v("<https://pay.weixin.qq.com>")])]),t._v(" ，点击“接入微信支付”; ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("span",[t._v("第三步 进入微信公众号与商户平台，复制相关信息到下方输入框")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("span",[t._v("第四步 进入商户平台，将以下信息添加至商户平台")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("span",[t._v(" 第五步 上传 域名验证证书 （例如：MP+verify_FNYsG5aRuaPPoruV.txt） ")])])}],i=(a("9302"),a("513c"),a("e35a"),a("5e9f"),a("6a61"),a("cf7f")),c=a("f348"),n=a.n(c),l=a("c684"),o={data:function(){return{collapse:!0,collapse1:!0,collapse2:!1,collapse3:!1,collapse4:!1,editForm:{merchant_secret:""},editFormShow:!1,uploadWXCert:"",haveUpload:!1,uploadWXKey:"",haveUpload2:!1,haveUpload3:!1}},created:function(){this._saveEditThirdForm()},methods:{miyao:function(){this.editForm.merchant_secret=this.uuid()},uuid:function(){for(var t=[],e="0123456789abcdef",a=0;a<32;a++)t[a]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23];var s=t.join("");return s.replace(10,42).toLocaleUpperCase()},copyLink:function(){var t=this,e=this,a=new n.a(".tag",{text:function(){return e.editForm.merchant_secret}});a.on("success",(function(e){t.$message({message:"复制成功",showClose:!0,type:"success"}),a.destroy()})),a.on("error",(function(e){t.$message({message:"复制失败,",showClose:!0,type:"error"}),a.destroy()}))},copyLink2:function(){var t=this,e=this,a=new n.a(".tag",{text:function(){return e.$refs.span.innerHTML}});a.on("success",(function(e){t.$message({message:"复制成功",showClose:!0,type:"success"}),a.destroy()})),a.on("error",(function(e){t.$message({message:"复制失败,",showClose:!0,type:"error"}),a.destroy()}))},_saveThirdForm:function(){var t=this;this.$refs.WXPublicFormRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(l["b"])(t.WXPublicForm);case 4:s=e.sent,r=s.data,0!==r.code?t.$message.error(r.msg):t.$message.success("保存微信公众号与商户平台信息成功！");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},_saveEditThirdForm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])();case 2:a=e.sent,s=a.data,0===s.code&&(s.data.apiclient_txt?t.haveUpload3=!0:t.haveUpload3=!1,t.editForm=s.data,t.editForm.apiclient_cert_pem&&(t.haveUpload=!0),t.editForm.apiclient_key_pem&&(t.haveUpload2=!0));case 6:case"end":return e.stop()}}),e)})))()},_editThirdForm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["b"])({appId:t.editForm.app_id,appSecret:t.editForm.app_secret,merchantCode:t.editForm.merchant_code,merchantSecret:t.editForm.merchant_secret,apiclientCert:t.uploadWXCert,apiclientkey:t.uploadWXKey,apiclientTxt:t.uploadWXTxt});case 2:a=e.sent,s=a.data,0!==s.code?t.$message.error(s.msg):(t.$message.success("修改微信公众号与商户平台信息成功！"),t._saveEditThirdForm());case 6:case"end":return e.stop()}}),e)})))()},changeFile:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,c,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t||window.event,r=s.target.files[0],r){a.next=5;break}return a.abrupt("return");case 5:return i=new FormData,i.append("file",r),i.append("type",1),a.prev=8,a.next=12,Object(l["e"])(i);case 12:c=a.sent,n=c.data,0===Number(n.code)?(e.$message.success("上传微信证书成功！"),e.uploadWXCert=n.data,e.haveUpload=!0):e.$message.error(n.msg),a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](8);case 21:s.target.value="";case 22:case"end":return a.stop()}}),a,null,[[8,18]])})))()},changeFile2:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,c,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t||window.event,r=s.target.files[0],r){a.next=5;break}return a.abrupt("return");case 5:return i=new FormData,i.append("file",r),i.append("type",2),a.prev=8,a.next=12,Object(l["e"])(i);case 12:c=a.sent,n=c.data,0===Number(n.code)?(e.$message.success("上传微信证书成功！"),e.uploadWXKey=n.data,e.haveUpload2=!0):e.$message.error(n.msg),a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](8);case 21:s.target.value="";case 22:case"end":return a.stop()}}),a,null,[[8,18]])})))()},changeFile3:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,c,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t||window.event,r=s.target.files[0],r){a.next=5;break}return a.abrupt("return");case 5:return i=new FormData,i.append("file",r),a.prev=7,a.next=11,Object(l["f"])(i);case 11:c=a.sent,n=c.data,0===Number(n.code)?(e.$message.success("上传文件成功！"),e.uploadWXTxt=n.data,e.haveUpload3=!0):e.$message.error(n.msg),a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](7);case 20:s.target.value="";case 21:case"end":return a.stop()}}),a,null,[[7,17]])})))()}}},p=o,d=(a("b44e"),a("9ca4")),u=Object(d["a"])(p,s,r,!1,null,null,null);e["default"]=u.exports},b44e:function(t,e,a){"use strict";var s=a("e2fc"),r=a.n(s);r.a},d6b9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA4klEQVRIS2NkoDFgpLH5DKMWEAzh0SAiL4ii2v8LMv1kEF7SwHiHoAlQBTEN/1X+sTO8XVbJ+B5ZD9Y4CG/43f+fgSGLiZExaEU9y1ZClkQ0/vH+9///OkYGhmkrG1gLCVoQ1fJf/u+f3wf+MzBKEbIEYfj/Z8wsrA7LahgfErQApIAYSwgZDjIHbzLFZwkxhhO0AJdPiDWcKAvQLWFkYOj+z8BQysiAPczREwTRORkeXP8ZFBgZGR5gi1BsqY1oCxA++VPAzMIyAT214ErKJFlAKD9Q7INRC8gJAYJ6hn4kAwC/8oUZpAu3TQAAAABJRU5ErkJggg=="},e2fc:function(t,e,a){}}]);