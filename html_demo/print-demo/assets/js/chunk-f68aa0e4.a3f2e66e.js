(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f68aa0e4"],{1784:function(e,t,a){"use strict";var r=a("1c8b"),i=a("58d8").left,n=a("d7e1"),o=a("ff9c"),l=n("reduce"),s=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!l||!s},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1799:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:e.total,"page-size":e.per_page,"current-page":e.current_page},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],n=(a("513c"),{props:{current_page:{type:Number,default:1},per_page:{type:Number,default:10},total:{type:Number,default:0}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChangeSon",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChangeSon",e)}}}),o=n,l=a("9ca4"),s=Object(l["a"])(o,r,i,!1,null,null,null);t["a"]=s.exports},2417:function(e,t,a){"use strict";var r=a("3723"),i=a.n(r);i.a},"369a":function(e,t,a){"use strict";var r=a("a5cc"),i=a.n(r);i.a},3723:function(e,t,a){},4875:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-number"},[a("el-input",{attrs:{placeholder:e.placeholder,maxLength:e.maxLength},on:{input:e.changeInput},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},i=[],n=(a("513c"),a("e35a"),a("5e9f"),{props:{value:{type:String|Number},placeholder:{type:String},maxLength:{type:String|Number}},data:function(){return{inputValue:""}},watch:{value:{handler:function(e,t){this.inputValue=e},immediate:!0}},methods:{changeInput:function(){this.inputValue=this.inputValue.replace(/[^0-9]/g,""),this.$emit("update:value",this.inputValue)}}}),o=n,l=a("9ca4"),s=Object(l["a"])(o,r,i,!1,null,null,null);t["a"]=s.exports},"58d8":function(e,t,a){var r=a("0c3c"),i=a("3553"),n=a("692f"),o=a("d88d"),l=function(e){return function(t,a,l,s){r(a);var d=i(t),c=n(d),m=o(d.length),u=e?m-1:0,p=e?-1:1;if(l<2)while(1){if(u in c){s=c[u],u+=p;break}if(u+=p,e?u<0:m<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:m>u;u+=p)u in c&&(s=a(s,c[u],u,d));return s}};e.exports={left:l(!1),right:l(!0)}},"7ce0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"systemDataMaintain"},[a("el-radio-group",{staticStyle:{"{'margin-bottom'":"'30px','width': '100px'}"},on:{change:e.initdata},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("采集方式管理")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("样本类型管理")]),a("el-radio-button",{attrs:{label:"3"}},[e._v("单位管理")]),a("el-radio-button",{attrs:{label:"4"}},[e._v("检验设备管理")]),a("el-radio-button",{attrs:{label:"5"}},[e._v("检验子项目管理")]),a("el-radio-button",{attrs:{label:"6"}},[e._v("检验项目管理")])],1),a(e.com,{tag:"component"})],1)},i=[],n=(a("513c"),a("e35a"),a("5e9f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"collect-container"},[a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"采集方式名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.gatherName,callback:function(t){e.$set(e.form,"gatherName",t)},expression:"form.gatherName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增采集方式")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel,"table-data":e.tableData},scopedSlots:e._u([{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.data.create_time))+" ")]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data,t.data.id)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.id)}}},[e._v(" 删除 ")])]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form.page,per_page:e.form.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"add"==e.activeName?"新增采集方式":"编辑采集方式",visible:e.dialogVisible,width:"40%","before-close":e.resetAddEditDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEditFormRef",attrs:{model:e.addEditForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编码"}},[a("input-number",{attrs:{value:e.addEditForm.number,maxLength:"10"},on:{"update:value":function(t){return e.$set(e.addEditForm,"number",t)}}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采集方式名称"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.name,callback:function(t){e.$set(e.addEditForm,"name",t)},expression:"addEditForm.name"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.resetAddEditDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除此采集方式吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteCollectWay}},[e._v(" 确 定 ")])],1)])],1)}),o=[],l=(a("2eeb"),a("053b"),a("e793")),s=(a("6a61"),a("cf7f")),d=a("0748"),c=a("1799"),m=a("4875"),u=a("1d40"),p={data:function(){return{form:{gatherName:"",type:1,page:1,limit:10},tableLabel:[{prop:"index",label:"序号",width:"50"},{prop:"number",label:"编码"},{prop:"name",label:"采集方式名称"},{prop:"get_name",label:"创建人"},{prop:"create_time",label:"创建日期",columnType:"slot",slotName:"formatDate"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData:[],total:0,dialogVisible:!1,addEditForm:{number:"",name:""},activeName:"add",tableId:"",deleteDialogVisible:!1,delId:""}},components:{FTable:d["a"],Pagination:c["a"],InputNumber:m["a"]},created:function(){this.getCollectWay()},methods:{getCollectWay:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["s"])(e.form);case 3:a=t.sent,r=a.data,0!==r.code?(e.tableData=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form.page-1)*e.form.limit})),e.tableData=r.data.data,e.total=r.data.total),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){this.form.page=1,this.getCollectWay()},resetForm:function(){this.$refs.form.resetFields(),this.form={gatherName:"",type:1,page:1,limit:10},this.getCollectWay()},handleSizeChangeFather:function(e){this.form.limit=e,this.getCollectWay()},handleCurrentChangeFather:function(e){this.form.page=e,this.getCollectWay()},getCollectWay1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["t"])(e.form);case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):e.addEditForm.number=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showAddDialog:function(){this.$isAuth("collectWayAdd")&&(this.activeName="add",this.getCollectWay1(),this.dialogVisible=!0)},showEditDialog:function(e,t){this.tableId=t,this.$isAuth("collectWayEdit")&&(this.activeName="edit",this.addEditForm=Object(l["a"])({},e),this.dialogVisible=!0)},saveAddEditDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addEditForm.number){t.next=3;break}return e.$message.error("请填写编码！"),t.abrupt("return");case 3:if(e.addEditForm.name){t.next=6;break}return e.$message.error("请填写采集方式名称！"),t.abrupt("return");case 6:if("add"!=e.activeName){t.next=21;break}return t.prev=7,t.next=10,Object(u["D"])(e.addEditForm);case 10:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("添加采集方式成功！"),e.getCollectWay(),e.addEditForm.name="",e.dialogVisible=!1),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7);case 19:t.next=33;break;case 21:return t.prev=21,t.next=24,Object(u["J"])({name:e.addEditForm.name,number:e.addEditForm.number,id:e.tableId});case 24:i=t.sent,n=i.data,0!==n.code?e.$message.error(n.msg):(e.$message.success("修改采集方式成功！"),e.getCollectWay(),e.dialogVisible=!1),t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](21);case 33:case"end":return t.stop()}}),t,null,[[7,16],[21,30]])})))()},resetAddEditDialog:function(){"add"==this.activeName?this.addEditForm.name="":(this.addEditForm={},this.$refs.addEditFormRef.resetFields()),this.dialogVisible=!1},showDeleteDialog:function(e){this.$isAuth("collectWayDelete")&&(this.delId=e,this.deleteDialogVisible=!0)},deleteCollectWay:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["j"])({id:e.delId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("删除采集方式成功！"),e.getCollectWay(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},h=p,b=a("9ca4"),g=Object(b["a"])(h,n,o,!1,null,null,null),f=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sampleType"},[a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form2",attrs:{model:e.form2,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样本名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form2.sampleName,callback:function(t){e.$set(e.form2,"sampleName",t)},expression:"form2.sampleName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增样本类型")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel2,"table-data":e.tableData2},scopedSlots:e._u([{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.data.create_time))+" ")]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data,t.data.id)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.id)}}},[e._v(" 删除 ")])]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form2.page,per_page:e.form2.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"add"==e.activeName?"新增样本类型":"编辑样本类型",visible:e.dialogVisible,width:"40%","before-close":e.resetAddEditDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEditFormRef",attrs:{model:e.addEditForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编码"}},[a("input-number",{attrs:{value:e.addEditForm.number,maxLength:"10"},on:{"update:value":function(t){return e.$set(e.addEditForm,"number",t)}}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"样本类型名称"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.name,callback:function(t){e.$set(e.addEditForm,"name",t)},expression:"addEditForm.name"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.resetAddEditDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除此样本类型吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteSampleType}},[e._v(" 确 定 ")])],1)])],1)},k=[],_={data:function(){return{form2:{sampleName:"",type:2,page:1,limit:10},tableLabel2:[{prop:"index",label:"序号",width:"50"},{prop:"number",label:"编码"},{prop:"name",label:"样本类型名称"},{prop:"get_name",label:"创建人"},{prop:"create_time",label:"创建日期",columnType:"slot",slotName:"formatDate"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData2:[],total:0,dialogVisible:!1,addEditForm:{number:"",name:""},activeName:"add",tableId:"",deleteDialogVisible:!1,delId:""}},components:{FTable:d["a"],Pagination:c["a"],InputNumber:m["a"]},created:function(){this.getSampleType()},methods:{getSampleType:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["w"])(e.form2);case 3:a=t.sent,r=a.data,0!==r.code?(e.tableData2=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form2.page-1)*e.form2.limit})),e.tableData2=r.data.data,e.total=r.data.total),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){this.form2.page=1,this.getSampleType()},resetForm:function(){this.$refs.form2.resetFields(),this.form2={sampleName:"",type:2,page:1,limit:10},this.getSampleType()},handleSizeChangeFather:function(e){this.form2.limit=e,this.getSampleType()},handleCurrentChangeFather:function(e){this.form2.page=e,this.getSampleType()},getSampleType1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["x"])(e.form2);case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):e.addEditForm.number=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showAddDialog:function(){this.$isAuth("sampleTypeAdd")&&(this.activeName="add",this.getSampleType1(),this.dialogVisible=!0)},showEditDialog:function(e,t){this.tableId=t,this.$isAuth("sampleTypeEdit")&&(this.activeName="edit",this.addEditForm=Object(l["a"])({},e),this.dialogVisible=!0)},saveAddEditDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addEditForm.number){t.next=3;break}return e.$message.error("请填写编码！"),t.abrupt("return");case 3:if(e.addEditForm.name){t.next=6;break}return e.$message.error("请填写样本类型名称！"),t.abrupt("return");case 6:if("add"!=e.activeName){t.next=21;break}return t.prev=7,t.next=10,Object(u["F"])(e.addEditForm);case 10:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("添加样本类型成功！"),e.getSampleType(),e.addEditForm.name="",e.dialogVisible=!1),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7);case 19:t.next=33;break;case 21:return t.prev=21,t.next=24,Object(u["L"])({name:e.addEditForm.name,number:e.addEditForm.number,id:e.tableId});case 24:i=t.sent,n=i.data,0!==n.code?e.$message.error(n.msg):(e.$message.success("修改样本类型成功！"),e.getSampleType(),e.dialogVisible=!1),t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](21);case 33:case"end":return t.stop()}}),t,null,[[7,16],[21,30]])})))()},resetAddEditDialog:function(){"add"==this.activeName?this.addEditForm.name="":(this.addEditForm={},this.$refs.addEditFormRef.resetFields()),this.dialogVisible=!1},showDeleteDialog:function(e){this.$isAuth("sampleTypeDelete")&&(this.delId=e,this.deleteDialogVisible=!0)},deleteSampleType:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["l"])({id:e.delId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("删除样本类型成功！"),e.getSampleType(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},E=_,y=Object(b["a"])(E,v,k,!1,null,null,null),F=y.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"company"},[a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form3",attrs:{model:e.form3,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form3.unitsName,callback:function(t){e.$set(e.form3,"unitsName",t)},expression:"form3.unitsName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增单位")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel3,"table-data":e.tableData3},scopedSlots:e._u([{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.data.create_time))+" ")]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data,t.data.id)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.id)}}},[e._v(" 删除 ")])]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form3.page,per_page:e.form3.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"add"==e.activeName?"新增单位":"编辑单位",visible:e.dialogVisible,width:"40%","before-close":e.resetAddEditDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEditFormRef",attrs:{model:e.addEditForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编码"}},[a("input-number",{attrs:{value:e.addEditForm.number,maxLength:"10"},on:{"update:value":function(t){return e.$set(e.addEditForm,"number",t)}}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.name,callback:function(t){e.$set(e.addEditForm,"name",t)},expression:"addEditForm.name"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.resetAddEditDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除此单位吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteCompany}},[e._v(" 确 定 ")])],1)])],1)},w=[],C={data:function(){return{form3:{unitsName:"",type:3,page:1,limit:10},tableLabel3:[{prop:"index",label:"序号",width:"50"},{prop:"number",label:"编码"},{prop:"name",label:"单位名称"},{prop:"get_name",label:"创建人"},{prop:"create_time",label:"创建日期",columnType:"slot",slotName:"formatDate"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData3:[],total:0,dialogVisible:!1,addEditForm:{number:"",name:""},activeName:"add",tableId:"",deleteDialogVisible:!1,delId:""}},components:{FTable:d["a"],Pagination:c["a"],InputNumber:m["a"]},created:function(){this.getCompany()},methods:{getCompany:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["u"])(e.form3);case 3:a=t.sent,r=a.data,0!==r.code?(e.tableData3=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form3.page-1)*e.form3.limit})),e.tableData3=r.data.data,e.total=r.data.total),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){this.form3.page=1,this.getCompany()},resetForm:function(){this.$refs.form3.resetFields(),this.form3={unitsName:"",type:3,page:1,limit:10},this.getCompany()},handleSizeChangeFather:function(e){this.form3.limit=e,this.getCompany()},handleCurrentChangeFather:function(e){this.form3.page=e,this.getCompany()},getCompany1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["v"])(e.form3);case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):e.addEditForm.number=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showAddDialog:function(){this.$isAuth("companyAdd")&&(this.activeName="add",this.getCompany1(),this.dialogVisible=!0)},showEditDialog:function(e,t){this.tableId=t,this.$isAuth("companyEdit")&&(this.activeName="edit",this.addEditForm=Object(l["a"])({},e),this.dialogVisible=!0)},saveAddEditDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addEditForm.number){t.next=3;break}return e.$message.error("请填写编码！"),t.abrupt("return");case 3:if(e.addEditForm.name){t.next=6;break}return e.$message.error("请填写单位名称！"),t.abrupt("return");case 6:if("add"!=e.activeName){t.next=21;break}return t.prev=7,t.next=10,Object(u["E"])(e.addEditForm);case 10:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("添加单位成功！"),e.getCompany(),e.addEditForm.name="",e.dialogVisible=!1),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7);case 19:t.next=33;break;case 21:return t.prev=21,t.next=24,Object(u["K"])({name:e.addEditForm.name,number:e.addEditForm.number,uid:e.tableId});case 24:i=t.sent,n=i.data,0!==n.code?e.$message.error(n.msg):(e.$message.success("修改单位成功！"),e.getCompany(),e.dialogVisible=!1),t.next=33;break;case 30:t.prev=30,t.t1=t["catch"](21);case 33:case"end":return t.stop()}}),t,null,[[7,16],[21,30]])})))()},resetAddEditDialog:function(){"add"==this.activeName?this.addEditForm.name="":(this.addEditForm={},this.$refs.addEditFormRef.resetFields()),this.dialogVisible=!1},showDeleteDialog:function(e){this.$isAuth("companyDelete")&&(this.delId=e,this.deleteDialogVisible=!0)},deleteCompany:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["k"])({uid:e.delId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("删除单位成功！"),e.getCompany(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},D=C,$=Object(b["a"])(D,x,w,!1,null,null,null),j=$.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkEquipment"},[a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form4",attrs:{model:e.form4,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form4.deviceName,callback:function(t){e.$set(e.form4,"deviceName",t)},expression:"form4.deviceName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增设备")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel4,"table-data":e.tableData4},scopedSlots:e._u([{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.data.create_time))+" ")]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data,t.data.id)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.id)}}},[e._v(" 删除 ")])]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form4.page,per_page:e.form4.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"add"==e.activeName?"新增设备":"编辑设备",visible:e.dialogVisible,width:"60%","before-close":e.resetAddEditDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEditFormRef",attrs:{model:e.addEditForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"编码"}},[a("input-number",{attrs:{value:e.addEditForm.number,maxLength:"10"},on:{"update:value":function(t){return e.$set(e.addEditForm,"number",t)}}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.name,callback:function(t){e.$set(e.addEditForm,"name",t)},expression:"addEditForm.name"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"样本类型"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.sample_id,callback:function(t){e.$set(e.addEditForm,"sample_id",t)},expression:"addEditForm.sample_id"}},e._l(e.sampleTypeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检验分组"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.checkout_id,callback:function(t){e.$set(e.addEditForm,"checkout_id",t)},expression:"addEditForm.checkout_id"}},e._l(e.grouplist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检验报告"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.layout_id,callback:function(t){e.$set(e.addEditForm,"layout_id",t)},expression:"addEditForm.layout_id"}},e._l(e.reportlist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.resetAddEditDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除此设备吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteCheckEquipment}},[e._v(" 确 定 ")])],1)])],1)},S=[],O={data:function(){return{form4:{deviceName:"",type:4,page:1,limit:10},tableLabel4:[{prop:"index",label:"序号",width:"50"},{prop:"number",label:"设备编码"},{prop:"name",label:"设备名称"},{prop:"sample_name",label:"样本类型"},{prop:"checkout_name",label:"检验分组"},{prop:"get_name",label:"创建人"},{prop:"create_time",label:"创建日期",columnType:"slot",slotName:"formatDate"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData4:[],total:0,dialogVisible:!1,addEditForm:{name:"",number:"",sample_id:"",checkout_id:"",layout_id:""},activeName:"add",sampleTypeList:[],grouplist:[],reportlist:[],deleteDialogVisible:!1}},components:{FTable:d["a"],Pagination:c["a"],InputNumber:m["a"]},created:function(){this.getCheckEquipment()},methods:{getCheckEquipment:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["m"])(e.form4);case 3:a=t.sent,r=a.data,0!==r.code?(e.tableData4=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form4.page-1)*e.form4.limit})),e.tableData4=r.data.data,e.total=r.data.total),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){this.form4.page=1,this.getCheckEquipment()},resetForm:function(){this.$refs.form4.resetFields(),this.form4={deviceName:"",type:4,page:1,limit:10},this.getCheckEquipment()},handleSizeChangeFather:function(e){this.form4.limit=e,this.getCheckEquipment()},handleCurrentChangeFather:function(e){this.form4.page=e,this.getCheckEquipment()},getCheckEquipment1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["n"])(e.form4);case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):e.addEditForm.number=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},defaultAddCheckEquipment:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["b"])();case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.sampleTypeList=r.data.checkout_kind_type,e.grouplist=r.data.checkout_inspect_group,e.reportlist=r.data.checkout_config_layout),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showAddDialog:function(){this.$isAuth("checkEquipmentAdd")&&(this.activeName="add",this.getCheckEquipment1(),this.defaultAddCheckEquipment(),this.dialogVisible=!0)},showEditDialog:function(e,t){this.tableId=t,this.$isAuth("checkEquipmentEdit")&&(this.activeName="edit",this.defaultAddCheckEquipment(),this.addEditForm=Object(l["a"])({},e),this.dialogVisible=!0)},saveAddEditDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addEditForm.number){t.next=3;break}return e.$message.error("请填写编码！"),t.abrupt("return");case 3:if(e.addEditForm.name){t.next=6;break}return e.$message.error("请填写设备名称！"),t.abrupt("return");case 6:if("add"!=e.activeName){t.next=21;break}return t.prev=7,t.next=10,Object(u["A"])(e.addEditForm);case 10:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("添加设备成功！"),e.getCheckEquipment(),e.addEditForm.name="",e.addEditForm.sample_id="",e.addEditForm.checkout_id="",e.addEditForm.layout_id="",e.dialogVisible=!1),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7);case 19:t.next=34;break;case 21:return t.prev=21,t.next=25,Object(u["G"])({name:e.addEditForm.name,number:e.addEditForm.number,sample_id:e.addEditForm.sample_id,checkout_id:e.addEditForm.checkout_id,layout_id:e.addEditForm.layout_id,fid:e.tableId});case 25:i=t.sent,n=i.data,0!==n.code?e.$message.error(n.msg):(e.$message.success("修改设备成功！"),e.getCheckEquipment(),e.dialogVisible=!1),t.next=34;break;case 31:t.prev=31,t.t1=t["catch"](21);case 34:case"end":return t.stop()}}),t,null,[[7,16],[21,31]])})))()},resetAddEditDialog:function(){"add"==this.activeName?this.addEditForm.name="":(this.addEditForm={},this.$refs.addEditFormRef.resetFields()),this.dialogVisible=!1},showDeleteDialog:function(e){this.$isAuth("checkEquipmentDelete")&&(this.delId=e,this.deleteDialogVisible=!0)},deleteCheckEquipment:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["g"])({fid:e.delId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("删除设备成功！"),e.getCheckEquipment(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},V=O,A=Object(b["a"])(V,N,S,!1,null,null,null),T=A.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkSubProject"},[a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form5",attrs:{model:e.form5,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"子项目名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form5.sonProjectName,callback:function(t){e.$set(e.form5,"sonProjectName",t)},expression:"form5.sonProjectName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增子项目")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel5,"table-data":e.tableData5},scopedSlots:e._u([{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.data.create_time))+" ")]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data,t.data.id)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.id)}}},[e._v(" 删除 ")])]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form5.page,per_page:e.form5.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"add"==e.activeName?"新增检验子项目":"编辑检验子项目",visible:e.dialogVisible,width:"60%","before-close":e.resetAddEditDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEditFormRef",attrs:{rules:e.addEditFormRefRules,model:e.addEditForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"编码",prop:"number"}},[a("input-number",{attrs:{value:e.addEditForm.number,maxLength:"10"},on:{"update:value":function(t){return e.$set(e.addEditForm,"number",t)}}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"子项目名称",prop:"name"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.name,callback:function(t){e.$set(e.addEditForm,"name",t)},expression:"addEditForm.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"英文名称",prop:"english_name"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.english_name,callback:function(t){e.$set(e.addEditForm,"english_name",t)},expression:"addEditForm.english_name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"通道号"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.aisle_name,callback:function(t){e.$set(e.addEditForm,"aisle_name",t)},expression:"addEditForm.aisle_name"}})],1)],1),a("el-col",{staticClass:"com",attrs:{span:8}},[a("el-form-item",{attrs:{label:"检验单位"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.unit_id,callback:function(t){e.$set(e.addEditForm,"unit_id",t)},expression:"addEditForm.unit_id"}},e._l(e.companylist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检验分组"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.checkout_id,callback:function(t){e.$set(e.addEditForm,"checkout_id",t)},expression:"addEditForm.checkout_id"}},e._l(e.grouplist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1),a("hr",{staticClass:"hr"}),a("div",{staticClass:"refer"},[a("p",{staticClass:"Mg-T20 Mg-B20"},[e._v(" 参考范围（双击可编辑） ")]),a("div",{staticClass:"table-container"},[a("el-table",{staticStyle:{width:"30%"},attrs:{data:e.dialogTableData,border:""},on:{"row-dblclick":e.dbclick}},[a("el-table-column",{attrs:{prop:"mix",label:"最小值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row}},[a("el-form-item",{attrs:{size:"mini"}},[t.row.isOK?a("input-number",{staticStyle:{width:"100%",hight:"100%"},attrs:{value:t.row.min,maxLength:"10"},on:{"update:value":function(a){return e.$set(t.row,"min",a)}}}):a("span",[e._v(e._s(t.row.min))])],1)],1)]}}])}),a("el-table-column",{attrs:{prop:"max",label:"最大值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{model:t.row}},[a("el-form-item",{attrs:{size:"mini"}},[t.row.isOK?a("input-number",{staticStyle:{width:"100%",hight:"100%"},attrs:{value:t.row.max,maxLength:"10"},on:{"update:value":function(a){return e.$set(t.row,"max",a)}}}):a("span",[e._v(e._s(t.row.max))])],1)],1)]}}])})],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.resetAddEditDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除此检查子项目吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteCheckSubProject}},[e._v(" 确 定 ")])],1)])],1)},I=[],P=(a("0d7a"),{data:function(){return{form5:{sonProjectName:"",type:5,page:1,limit:10},tableLabel5:[{prop:"index",label:"序号",width:"50"},{prop:"name",label:"检验子项目名称",width:"120"},{prop:"english_name",label:"英文名称"},{prop:"aisle_name",label:"通道号"},{prop:"units_name",label:"检验单位"},{prop:"checkout_name",label:"检验分组"},{prop:"get_name",label:"创建人"},{prop:"create_time",label:"创建日期",columnType:"slot",slotName:"formatDate",width:"100"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData5:[],total:0,dialogVisible:!1,addEditForm:{number:"",name:"",english_name:"",aisle_name:"",unit_id:"",checkout_id:"",reference_scope:""},addEditFormRefRules:{number:[{required:!0,message:"请输入编码",trigger:"blur"}],name:[{required:!0,message:"请输入子项目名称",trigger:"blur"}],english_name:[{required:!0,message:"请输入英文名称",trigger:"blur"}]},activeName:"add",tableId:"",companylist:[],grouplist:[],deleteDialogVisible:!1,delId:"",joinValue:"",dialogTableData:[{isOK:!1,min:10,max:20}]}},components:{FTable:d["a"],Pagination:c["a"],InputNumber:m["a"]},created:function(){this.getCheckSubProject()},methods:{getCheckSubProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["q"])(e.form5);case 3:a=t.sent,r=a.data,0!==r.code?(e.tableData5=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form5.page-1)*e.form5.limit})),e.tableData5=r.data.data,e.total=r.data.total),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){this.form5.page=1,this.getCheckSubProject()},resetForm:function(){this.$refs.form5.resetFields(),this.form5={sonProjectName:"",type:5,page:1,limit:10},this.getCheckSubProject()},handleSizeChangeFather:function(e){this.form5.limit=e,this.getCheckSubProject()},handleCurrentChangeFather:function(e){this.form5.page=e,this.getCheckSubProject()},getCheckSubProject1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["r"])(e.form5);case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):e.addEditForm.number=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},defaultAddCheckSubProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["d"])();case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.companylist=r.data.unit,e.grouplist=r.data.group),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showAddDialog:function(){this.$isAuth("checkSubProjectAdd")&&(this.activeName="add",this.dialogTableData[0].isOK&&(this.dialogTableData[0].isOK=!1),this.dialogTableData[0].min=10,this.dialogTableData[0].max=20,this.getCheckSubProject1(),this.defaultAddCheckSubProject(),this.dialogVisible=!0)},defaultEditCheckSubProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["f"])({id:e.tableId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.companylist=r.data.unit,e.grouplist=r.data.group),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showEditDialog:function(e,t){if(this.tableId=t,this.$isAuth("checkSubProjectEdit")){if(this.activeName="edit",this.defaultEditCheckSubProject(),this.addEditForm=Object(l["a"])({},e),this.dialogTableData[0].isOK&&(this.dialogTableData[0].isOK=!1),e.reference_scope){var a=e.reference_scope.split("-");this.dialogTableData[0].min=a[0],this.dialogTableData[0].max=a[1]}else this.dialogTableData[0].min=10,this.dialogTableData[0].max=20;this.dialogVisible=!0}},saveAddEditDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=/(^[a-zA-Z]+$)|(^[a-zA-Z]+\d+[a-zA-Z]+$)|(^\d+[a-zA-Z]+$)|(^\d+[a-zA-Z]+\d+$)/,e.addEditForm.number){t.next=4;break}return e.$message.error("请填写编码！"),t.abrupt("return");case 4:if(e.addEditForm.name){t.next=7;break}return e.$message.error("请填写子项目名称！"),t.abrupt("return");case 7:if(e.addEditForm.english_name){t.next=10;break}return e.$message.error("请填写英文名称！"),t.abrupt("return");case 10:if(a.test(e.addEditForm.english_name)){t.next=13;break}return e.$message({message:"请输入英文名称(可以包含数字，不能有空格和特殊符号)！",type:"error",duration:5e3}),t.abrupt("return");case 13:if(""!==e.dialogTableData[0].min&&""!==e.dialogTableData[0].max){t.next=16;break}return e.$message.error("参考范围最小值和最大值不能为空"),t.abrupt("return");case 16:if(!(Number(e.dialogTableData[0].min)>e.dialogTableData[0].max)){t.next=19;break}return e.$message.error("参考范围最小值不能大于最大值"),t.abrupt("return");case 19:if(e.joinValue=e.dialogTableData[0].min+"-"+e.dialogTableData[0].max,"add"!=e.activeName){t.next=36;break}return t.prev=22,t.next=25,Object(u["C"])({number:e.addEditForm.number,name:e.addEditForm.name,english_name:e.addEditForm.english_name,aisle_name:e.addEditForm.aisle_name,unit_id:e.addEditForm.unit_id,checkout_id:e.addEditForm.checkout_id,reference_scope:e.joinValue});case 25:r=t.sent,i=r.data,0!==i.code?e.$message.error(i.msg):(e.$message.success("添加子项目成功！"),e.getCheckSubProject(),e.addEditForm.name="",e.addEditForm.english_name="",e.addEditForm.aisle_name="",e.addEditForm.unit_id="",e.addEditForm.checkout_id="",e.addEditForm.reference_scope="",e.dialogVisible=!1),t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](22);case 34:t.next=48;break;case 36:return t.prev=36,t.next=39,Object(u["I"])({number:e.addEditForm.number,name:e.addEditForm.name,english_name:e.addEditForm.english_name,aisle_name:e.addEditForm.aisle_name,unit_id:e.addEditForm.unit_id,checkout_id:e.addEditForm.checkout_id,reference_scope:e.joinValue,id:e.tableId});case 39:n=t.sent,o=n.data,0!==o.code?e.$message.error(o.msg):(e.$message.success("修改子项目成功！"),e.getCheckSubProject(),e.dialogVisible=!1),t.next=48;break;case 45:t.prev=45,t.t1=t["catch"](36);case 48:case"end":return t.stop()}}),t,null,[[22,31],[36,45]])})))()},resetAddEditDialog:function(){"add"==this.activeName?(this.addEditForm.name="",this.addEditForm.english_name=""):(this.addEditForm={},this.$refs.addEditFormRef.resetFields()),this.dialogVisible=!1},showDeleteDialog:function(e){this.$isAuth("checkSubProjectDelete")&&(this.delId=e,this.deleteDialogVisible=!0)},deleteCheckSubProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["i"])({id:e.delId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("删除子项目成功！"),e.getCheckSubProject(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},dbclick:function(e,t,a){e.isOK=!e.isOK}}}),z=P,L=(a("369a"),Object(b["a"])(z,R,I,!1,null,"0fd1fd12",null)),q=L.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkProject"},[a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form6",attrs:{model:e.form6,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form6.projectName,callback:function(t){e.$set(e.form6,"projectName",t)},expression:"form6.projectName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增项目")]),a("f-table",{staticClass:"Mg-T20",attrs:{"table-label":e.tableLabel6,"table-data":e.tableData6},scopedSlots:e._u([{key:"formatDate",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.data.create_time))+" ")]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",plain:""},on:{click:function(a){return e.showEditDialog(t.data,t.data.id)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return e.showDeleteDialog(t.data.id)}}},[e._v(" 删除 ")])]}}])}),a("pagination",{attrs:{total:e.total,current_page:e.form6.page,per_page:e.form6.limit},on:{handleSizeChangeSon:e.handleSizeChangeFather,handleCurrentChangeSon:e.handleCurrentChangeFather}})],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"add"==e.activeName?"新增检验项目":"编辑检验项目",visible:e.dialogVisible,width:"60%","before-close":e.resetAddEditDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addEditFormRef",attrs:{rules:e.addEditFormRefRules,model:e.addEditForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"编码",prop:"number"}},[a("input-number",{attrs:{value:e.addEditForm.number,maxLength:"10"},on:{"update:value":function(t){return e.$set(e.addEditForm,"number",t)}}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.addEditForm.name,callback:function(t){e.$set(e.addEditForm,"name",t)},expression:"addEditForm.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检验分组"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.groud_id,callback:function(t){e.$set(e.addEditForm,"groud_id",t)},expression:"addEditForm.groud_id"}},e._l(e.grouplist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检验设备"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.facility_id,callback:function(t){e.$set(e.addEditForm,"facility_id",t)},expression:"addEditForm.facility_id"}},e._l(e.equipmentlist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"采集方式"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.gather_id,callback:function(t){e.$set(e.addEditForm,"gather_id",t)},expression:"addEditForm.gather_id"}},e._l(e.collectlist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"报告格式",prop:"layout_id"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.addEditForm.layout_id,callback:function(t){e.$set(e.addEditForm,"layout_id",t)},expression:"addEditForm.layout_id"}},e._l(e.reportlist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1),a("hr",{staticClass:"hr"}),a("div",{staticClass:"refer"},[a("p",{staticClass:"Mg-T20 Mg-B20"},[a("i",{staticClass:"color-red"},[e._v("*")]),e._v(" 参考子项目 ")]),a("div",{staticClass:"add-item-table"},[a("f-table",{staticClass:"report-add-item h-btn-txt",attrs:{emptyText:" ","table-label":e.tableLabel7,"table-data":e.tableData7},scopedSlots:e._u([{key:"formDate",fn:function(t){return[a("SearchChildItem",{attrs:{itemName:t.data.index?t.data.name:t.data.id,itemIndex:t.data.index,editOptions:e.options},on:{"update:itemName":function(a){return e.$set(t.data.index?t.data.name:t.data,"id",a)},"update:item-name":function(a){return e.$set(t.data.index?t.data.name:t.data,"id",a)},"update:itemIndex":function(a){return e.$set(t.data,"index",a)},"update:item-index":function(a){return e.$set(t.data,"index",a)},changeData:e.handleSetItem}})]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(a){return e.handleDelChildItem(t.data)}}},[e._v("删除")])]}}])}),a("div",{staticClass:"add-item-btn Mg-T40 Mg-B30 Pd-L30"},[a("el-button",{staticStyle:{width:"160px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small",plain:""},on:{click:e.handleAddItem}},[e._v("添加")])],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.resetAddEditDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.isDisabled},on:{click:e.saveAddEditDialog}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信息提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除此检查项目吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteCheckProject}},[e._v(" 确 定 ")])],1)])],1)},W=[],K=(a("b4fb"),a("1784"),a("5748")),Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{filterable:"",placeholder:"请输入名称关键词",loading:e.loading},nativeOn:{input:function(t){return e.remoteMethod(t.data)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)},B=[],J=(a("ecb4"),a("5572")),G={props:{itemName:{type:String|Number},editOptions:{type:Array,default:function(){return[]}},itemIndex:void 0|Number},data:function(){return{options:[],value:"",loading:!1,optionsCache:[]}},created:function(){this.searchItemName()},watch:{itemName:{handler:function(e){this.value=e},immediate:!0},value:function(e,t){var a=this;this.$emit("update:itemIndex",0),this.$emit("update:itemName",e),this.options.map((function(t){t.id===e&&(a.itemIndex?a.$emit("changeData",Object(l["a"])(Object(l["a"])({},t),{},{itemIndex:a.itemIndex})):a.$emit("changeData",t))}))},editOptions:{handler:function(e){this.options=e},immediate:!0}},methods:{remoteMethod:Object(J["a"])((function(e){try{var t=this;e?t.options=t.optionsCache.reduce((function(t,a){return a.name.indexOf(e)>-1?[].concat(Object(K["a"])(t),[a]):t}),[]):this.options=this.optionsCache}catch(a){}}),300),searchItemName:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,Object(u["a"])({sonProjectName:e});case 3:r=a.sent,i=r.data,0==i.code?(t.options=i.data,t.optionsCache=i.data):t.options=[],t.loading=!1;case 8:case"end":return a.stop()}}),a)})))()}}},H=G,Q=Object(b["a"])(H,Z,B,!1,null,null,null),U=Q.exports,X={data:function(){return{form6:{projectName:"",type:6,page:1,limit:10},tableLabel6:[{prop:"index",label:"序号",width:"50"},{prop:"name",label:"检验项目名称",width:"120"},{prop:"layout_name",label:"报告格式"},{prop:"group_name",label:"检验分组"},{prop:"facility_name",label:"检验设备"},{prop:"get_name",label:"创建人"},{prop:"create_time",label:"创建日期",columnType:"slot",slotName:"formatDate",width:"100"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData6:[],total:0,dialogVisible:!1,addEditForm:{number:"",name:"",groud_id:"",facility_id:"",gather_id:"",layout_id:""},addEditFormRefRules:{number:[{required:!0,message:"请输入编码",trigger:"blur"}],name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],layout_id:[{required:!0,message:"请选择报告格式",trigger:"change"}]},activeName:"add",tableId:"",grouplist:[],equipmentlist:[],collectlist:[],reportlist:[],deleteDialogVisible:!1,delId:"",tableLabel7:[{type:"index",label:"序号",width:"50"},{prop:"number",label:"编码"},{prop:"name",label:"名称",columnType:"slot",slotName:"formDate"},{prop:"english_name",label:"英文名称"},{prop:"unit_name",label:"检验单位"},{label:"操作",columnType:"slot",slotName:"opt",width:"200"}],tableData7:[],options:[],isDisabled:!1}},components:{FTable:d["a"],Pagination:c["a"],InputNumber:m["a"],SearchChildItem:U},created:function(){this.getCheckProject()},methods:{getCheckProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["o"])(e.form6);case 3:a=t.sent,r=a.data,0!==r.code?(e.tableData6=[],e.total=0):(r.data.data.map((function(t,a){t.index=a+1+(e.form6.page-1)*e.form6.limit})),e.tableData6=r.data.data,e.total=r.data.total),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){this.form6.page=1,this.getCheckProject()},resetForm:function(){this.$refs.form6.resetFields(),this.form6={projectName:"",type:6,page:1,limit:10},this.getCheckProject()},handleSizeChangeFather:function(e){this.form6.limit=e,this.getCheckProject()},handleCurrentChangeFather:function(e){this.form6.page=e,this.getCheckProject()},getCheckProject1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["p"])(e.form6);case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):e.addEditForm.number=r.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},defaultAddCheckProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["c"])();case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.grouplist=r.data.group,e.equipmentlist=r.data.facility,e.collectlist=r.data.gather,e.reportlist=r.data.layout,e.addEditForm.layout_id=e.reportlist.length&&e.reportlist[0].id),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showAddDialog:function(){this.$isAuth("checkProjectAdd")&&(this.activeName="add",this.getCheckProject1(),this.defaultAddCheckProject(),this.tableData7=[],this.options=[],this.dialogVisible=!0)},defaultEditCheckProject:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(u["e"])({id:e});case 3:r=a.sent,i=r.data,0!==i.code?t.$message.error(i.msg):(t.grouplist=i.data.group,t.equipmentlist=i.data.facility,t.collectlist=i.data.gather,t.reportlist=i.data.layout,i.data.sonData.map((function(e,t){e.index=t+1,e.d_id=Math.random()*Math.random()*1e4})),t.tableData7=i.data.sonData),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},showEditDialog:function(e,t){this.tableId=t,this.$isAuth("checkProjectEdit")&&(this.activeName="edit",this.defaultEditCheckProject(t),this.addEditForm=Object(l["a"])({},e),this.dialogVisible=!0)},saveAddEditDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.addEditForm.number){t.next=3;break}return e.$message.error("请填写编码！"),t.abrupt("return");case 3:if(e.addEditForm.name){t.next=6;break}return e.$message.error("请填写项目名称！"),t.abrupt("return");case 6:if(e.addEditForm.layout_id){t.next=9;break}return e.$message.error("请选择报告格式！"),t.abrupt("return");case 9:if(e.tableData7.length){t.next=12;break}return e.$message.error("请添加参考子项目！"),t.abrupt("return");case 12:if(a=!0,e.tableData7.map((function(e){e.id&&e.name&&(a=!1)})),!a){t.next=17;break}return e.$message.error("请完善参考子项目信息！"),t.abrupt("return");case 17:if(e.isDisabled=!0,r=e.tableData7.reduce((function(e,t){return t.id&&t.name?[].concat(Object(K["a"])(e),[t]):e}),[]),"add"!=e.activeName){t.next=35;break}return t.prev=20,t.next=23,Object(u["B"])({number:e.addEditForm.number,name:e.addEditForm.name,groud_id:e.addEditForm.groud_id,facility_id:e.addEditForm.facility_id,gather_id:e.addEditForm.gather_id,layout_id:e.addEditForm.layout_id,sonData:r});case 23:i=t.sent,n=i.data,0!==n.code?e.$message.error(n.msg):(e.$message.success("添加项目成功！"),e.getCheckProject(),e.addEditForm.name="",e.addEditForm.groud_id="",e.addEditForm.facility_id="",e.addEditForm.gather_id="",e.addEditForm.layout_id="",e.tableData7=[],e.dialogVisible=!1),t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](20);case 32:e.isDisabled=!1,t.next=48;break;case 35:return t.prev=35,t.next=38,Object(u["H"])({number:e.addEditForm.number,name:e.addEditForm.name,groud_id:e.addEditForm.groud_id,facility_id:e.addEditForm.facility_id,gather_id:e.addEditForm.gather_id,layout_id:e.addEditForm.layout_id,id:e.tableId,sonData:r});case 38:o=t.sent,l=o.data,0!==l.code?e.$message.error(l.msg):(e.$message.success("修改项目成功！"),e.getCheckProject(),e.dialogVisible=!1),t.next=47;break;case 44:t.prev=44,t.t1=t["catch"](35);case 47:e.isDisabled=!1;case 48:case"end":return t.stop()}}),t,null,[[20,29],[35,44]])})))()},resetAddEditDialog:function(){"add"==this.activeName?this.addEditForm.name="":(this.addEditForm={},this.$refs.addEditFormRef.resetFields()),this.dialogVisible=!1},showDeleteDialog:function(e){this.$isAuth("checkProjectDelete")&&(this.delId=e,this.deleteDialogVisible=!0)},deleteCheckProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["h"])({id:e.delId});case 3:a=t.sent,r=a.data,0!==r.code?e.$message.error(r.msg):(e.$message.success("删除项目成功！"),e.getCheckProject(),e.deleteDialogVisible=!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleAddItem:function(){this.tableData7.push({d_id:Math.random()*Math.random()*1e4,id:"",number:"",name:"",english_name:"",aisle_name:"",unit_name:"",checkout_name:"",reference_scope:""})},handleSetItem:function(e){var t=this.tableData7.map((function(t){return t.id==e.id&&(t=Object(l["a"])(Object(l["a"])({},t),e)),t}));this.tableData7=t},handleDelChildItem:function(e){this.tableData7=this.tableData7.reduce((function(t,a){return a.d_id!==e.d_id?[].concat(Object(K["a"])(t),[a]):t}),[])}}},Y=X,ee=(a("2417"),Object(b["a"])(Y,M,W,!1,null,"603da05c",null)),te=ee.exports,ae={data:function(){return{num:1,com:"CollectWay",comList:["CollectWay","SampleType","Company","CheckEquipment","CheckSubProject","CheckProject"]}},components:{CollectWay:f,SampleType:F,Company:j,CheckEquipment:T,CheckSubProject:q,CheckProject:te},created:function(){var e=this.$route.query.flag;e?Number(e)>0&&Number(e)<7?(this.num=e,this.com=this.comList[e-1]):(this.num=1,this.com=this.comList[0]):this.num=1},methods:{initdata:function(e){this.num=e,this.com=this.comList[e-1],this.$router.replace("/home/systemDataMaintain?flag="+e)}}},re=ae,ie=Object(b["a"])(re,r,i,!1,null,null,null);t["default"]=ie.exports},a5cc:function(e,t,a){}}]);