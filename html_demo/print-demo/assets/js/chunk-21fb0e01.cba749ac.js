(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21fb0e01"],{"2d31":function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n("bdd0"),a=function(e){return Object(r["a"])("post","/bindingWeChat",e)};function o(e){return Object(r["a"])("post","/weChatDetail",e)}var s=function(){return Object(r["a"])("post","/menuWeChatList")},i=function(){return Object(r["a"])("get","/menuWeChatAdd")},u=function(){return Object(r["a"])("post","/unit")},c=function(e){return Object(r["a"])("post","/menuWeChatAdd",e)},l=function(e){return Object(r["a"])("get","/menuWeChatEdit",e)},f=function(e){return Object(r["a"])("post","/menuWeChatEdit",e)},d=function(e){return Object(r["a"])("post","/menuWeChatDel",e)}},6988:function(e,t,n){"use strict";var r=n("e5c3"),a=n.n(r);a.a},8775:function(e,t,n){},"8cdd":function(e,t,n){"use strict";var r=n("ffe6"),a=n.n(r);a.a},a041:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{staticClass:"title"},[e._t("title")],2),e._t("tag")],2)},a=[],o=(n("f343"),n("9ca4")),s={},i=Object(o["a"])(s,r,a,!1,null,"2a454133",null);t["a"]=i.exports},abab:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wxMenuSetAddEditPage"},[n("title-common",[n("span",{attrs:{slot:"title"},slot:"title"},[e._v("菜单添加")])]),n("panel-common",[n("div",{attrs:{slot:"info-content"},slot:"info-content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"一级菜单"}},[n("el-select",{attrs:{placeholder:"请选择一级菜单"},model:{value:e.form.hospital,callback:function(t){e.$set(e.form,"hospital",t)},expression:"form.hospital"}},e._l(e.addDefaultSelect,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"菜单名称"}},[n("el-input",{attrs:{placeholder:"",maxlength:"7",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"菜单功能"}},[n("el-input",{staticClass:"dis_menu",attrs:{disabled:"",clearable:""},model:{value:e.form.function.name,callback:function(t){e.$set(e.form.function,"name",t)},expression:"form.function.name"}})],1)],1),n("el-col",{attrs:{span:4}},[n("span",{staticClass:"blue pionter",on:{click:e.showChooseDialog}},[e._v("选择功能")])])],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"排序"}},[n("el-input",{attrs:{oninput:"if(this.value=='00'){this.value='0';}else{this.value=this.value.replace(/[^0-9]/g,'')};"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1)],1)],1)],1)]),n("div",{staticClass:"btns"},[n("el-button",{attrs:{type:"primary",disabled:e.disabled,loading:e.disabled},on:{click:e._saveAddMenu}},[e._v("保存")]),n("el-button",{attrs:{plain:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1),n("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{visible:e.showChooseDialogVisible,width:"30%"},on:{"update:visible":function(t){e.showChooseDialogVisible=t}}},[e._l(e.funclist,(function(t,r){return n("span",{key:r,staticClass:"span",on:{click:function(n){return e.handleMenu(t)}}},[n("el-button",{attrs:{plain:""}},[e._v(e._s(t.name))])],1)})),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleYes}},[e._v("确 定")])],1)],2)],1)},a=[],o=(n("053b"),n("6a61"),n("cf7f")),s=n("a041"),i=n("2a94"),u=n("2d31"),c={data:function(){return{form:{hospital:0,name:"",function:{name:"",url:""},sort:""},showChooseDialogVisible:!1,addDefaultSelect:[],funclist:[],checkMenu:{},disabled:!1}},components:{TitleCommon:s["a"],PanelCommon:i["a"]},created:function(){this._getWXAddData()},methods:{_getWXAddData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])();case 2:n=t.sent,r=n.data,0===r.code&&(e.addDefaultSelect=r.data);case 6:case"end":return t.stop()}}),t)})))()},showChooseDialog:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showChooseDialogVisible=!0,t.next=3,Object(u["c"])();case 3:n=t.sent,r=n.data,0===r.code&&(e.funclist=r.data);case 7:case"end":return t.stop()}}),t)})))()},_saveAddMenu:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.name){t.next=3;break}return e.$message.error("请输入菜单名称"),t.abrupt("return");case 3:if(!(0==!e.form.hospital&&e.form.name.length>4)){t.next=6;break}return e.$message.error("菜单名称长度超出限制，一级菜单最多4个汉字"),t.abrupt("return");case 6:if(!(0!==!e.form.hospital&&e.form.name.length>7)){t.next=9;break}return e.$message.error("菜单名称长度超出限制，二级菜单最多7个汉字"),t.abrupt("return");case 9:if(e.form.function.url){t.next=12;break}return e.$message.error("请选择菜单功能"),t.abrupt("return");case 12:if(e.form.sort){t.next=15;break}return e.$message.error("请输入排序"),t.abrupt("return");case 15:return e.disabled=!0,t.next=18,Object(u["f"])({pid:e.form.hospital,name:e.form.name,url:e.form.function.url,sort:e.form.sort});case 18:n=t.sent,r=n.data,0===r.code?(e.$message.success("添加成功！"),a=setTimeout((function(){e.$router.go(-1),clearTimeout(a)}),800)):(e.$message.error(r.msg),e.disabled=!1);case 22:case"end":return t.stop()}}),t)})))()},handleMenu:function(e){this.checkMenu=e},handleYes:function(){this.form.function=this.checkMenu,this.showChooseDialogVisible=!1}}},l=c,f=(n("6988"),n("8cdd"),n("9ca4")),d=Object(f["a"])(l,r,a,!1,null,"85ed17d4",null);t["default"]=d.exports},e5c3:function(e,t,n){},f343:function(e,t,n){"use strict";var r=n("8775"),a=n.n(r);a.a},ffe6:function(e,t,n){}}]);