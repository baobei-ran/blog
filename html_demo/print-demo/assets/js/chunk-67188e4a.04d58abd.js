(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67188e4a"],{1799:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.total,"page-size":t.per_page,"current-page":t.current_page},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],l=(a("513c"),{props:{current_page:{type:Number,default:1},per_page:{type:Number,default:10},total:{type:Number,default:0}},methods:{handleSizeChange:function(t){this.$emit("handleSizeChangeSon",t)},handleCurrentChange:function(t){this.$emit("handleCurrentChangeSon",t)}}}),r=l,o=a("9ca4"),s=Object(o["a"])(r,n,i,!1,null,null,null);e["a"]=s.exports},2970:function(t,e,a){},"78dc":function(t,e,a){"use strict";var n=a("2970"),i=a.n(n);i.a},"942e":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return o}));var n=a("bdd0"),i=function(t){return Object(n["a"])("post","/inquiryList",t)},l=function(t){return Object(n["a"])("post","/inquiryDetail",t)},r=function(t){return Object(n["a"])("post","/inquiryDocList",t)},o=function(t){return Object(n["a"])("post","/inquirySet",t)}},b40d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"online"},[a("el-radio-group",{staticStyle:{"{'margin-bottom'":"'30px','width': '100px'}"},on:{change:t.initdata},model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},[a("el-radio-button",{attrs:{label:"2"}},[t._v("图文问诊")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("视频问诊")])],1),a("el-card",{staticClass:"Mg-T20"},[a("el-form",{ref:"form",attrs:{"label-width":"100px",model:t.form}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"问诊单号"}},[a("el-input",{attrs:{clearable:""},model:{value:t.form.inquiryCode,callback:function(e){t.$set(t.form,"inquiryCode",e)},expression:"form.inquiryCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"就诊人姓名","label-width":"140px"}},[a("el-input",{attrs:{clearable:""},model:{value:t.form.patientName,callback:function(e){t.$set(t.form,"patientName",e)},expression:"form.patientName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医生姓名","label-width":"140px"}},[a("el-input",{attrs:{clearable:""},model:{value:t.form.docName,callback:function(e){t.$set(t.form,"docName",e)},expression:"form.docName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"问诊状态"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statuslist,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"问诊时间"}},[a("el-date-picker",{staticStyle:{width:"auto"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),a("el-col",{attrs:{span:6}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("查询")]),a("el-button",{attrs:{plain:""},on:{click:t.resetForm}},[t._v("重置")])],1)])],1)],1)],1),a("el-card",{staticClass:"Mg-T20"},[a("f-table",{attrs:{"table-label":t.tableLabel,"table-data":t.tableData},scopedSlots:t._u([{key:"sex",fn:function(e){return[0==e.data.patient_sex?a("div",[t._v("保密")]):1==e.data.patient_sex?a("div",[t._v("男")]):a("div",[t._v("女")])]}},{key:"formatDate",fn:function(e){return[t._v(" "+t._s(t._f("allDateFormat")(e.data.inquiry_time))+" ")]}},{key:"type",fn:function(e){return[1==e.data.bus_type?a("span",[t._v("图文问诊")]):a("span",[t._v("视频问诊")])]}},{key:"allStatus",fn:function(e){return[1==e.data.status?a("div",[t._v("待接诊")]):2==e.data.status?a("div",[t._v("进行中")]):3==e.data.status?a("div",[t._v("已完成")]):a("div",[t._v("已取消")])]}},{key:"opt",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini",plain:""},on:{click:function(a){return t._toDetailPage(e.data.inquiry_code)}}},[t._v(" 查看 ")])]}}])}),a("pagination",{attrs:{total:t.total,current_page:t.form.page,per_page:t.form.limit},on:{handleSizeChangeSon:t.handleSizeChangeFather,handleCurrentChangeSon:t.handleCurrentChangeFather}})],1)],1)},i=[],l=(a("2eeb"),a("e18c"),a("1c2e"),a("6a61"),a("cf7f")),r=a("0748"),o=a("1799"),s=a("942e"),u={data:function(){return{tabPosition:"2",form:{inquiryCode:"",patientName:"",docName:"",status:"",busType:1,page:1,limit:10},statuslist:[{id:"",name:"全部"},{id:1,name:"待接诊"},{id:2,name:"进行中"},{id:3,name:"已完成"},{id:4,name:"已取消"}],dateRange:[],tableLabel:[{prop:"index",label:"序号"},{prop:"inquiry_code",label:"问诊单号",width:"240px"},{prop:"patient_name",label:"就诊人姓名",width:"120px"},{prop:"patient_sex",label:"性别",columnType:"slot",slotName:"sex"},{prop:"patient_age",label:"年龄"},{prop:"inquiry_time",label:"问诊时间",columnType:"slot",slotName:"formatDate",width:"150px"},{prop:"bus_type",label:"问诊类型",columnType:"slot",slotName:"type"},{prop:"status",label:"问诊状态",columnType:"slot",slotName:"allStatus"},{prop:"doc_name",label:"接诊医生"},{label:"操作",columnType:"slot",slotName:"opt"}],tableData:[],total:0}},components:{FTable:r["a"],Pagination:o["a"]},created:function(){this.getOnlineConsultationList()},methods:{handleSearch:function(){this.form.page=1,this.getOnlineConsultationList()},getOnlineConsultationList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dateRange.length&&(t.form.timeStart=(new Date(t.dateRange[0]).getTime()/1e3).toString(),t.form.timeEnd=((new Date(t.dateRange[1]).getTime()+864e5)/1e3).toString()),e.prev=2,e.next=5,Object(s["b"])(t.form);case 5:a=e.sent,n=a.data,0!==n.code?(t.tableData=[],t.total=0):(n.data.list.data.map((function(e,a){e.index=a+1+(t.form.page-1)*t.form.limit})),t.tableData=n.data.list.data,t.total=n.data.list.total),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},initdata:function(t){2==t?(this.form.page=1,this.getOnlineConsultationList()):(this.tableData=[],this.total=0)},resetForm:function(){this.$refs.form.resetFields(),this.form={inquiryCode:"",patientName:"",docName:"",status:"",busType:1,page:1,limit:10},this.dateRange=[],this.getOnlineConsultationList()},handleSizeChangeFather:function(t){this.form.limit=t,this.getOnlineConsultationList()},handleCurrentChangeFather:function(t){this.form.page=t,this.getOnlineConsultationList()},_toDetailPage:function(t){this.$isAuth("home/onlineList/detail")&&this.$router.push({path:"/home/onlineList/detail",query:{number:t}})}}},c=u,p=(a("78dc"),a("9ca4")),d=Object(p["a"])(c,n,i,!1,null,"6c913032",null);e["default"]=d.exports}}]);